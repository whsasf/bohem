	**********  Starting /home/whsasf/workspace/bohem/Automation/multiple-messages-simultaneously-for-in-and-out-domains-senders/Deliever-message-before-AutoReplyStopDate-when-only-it-set/mx-10288-10304  **********
Test started: Sat Nov 18 11:42:20 CST 2017
########## 1 Clear mta.log using expect tool ...
spawn ssh imail2@10.49.58.118
Password: 
Last login: Fri Nov 17 22:39:33 2017 from 10.6.105.91
[?1034hmx-10-49-58-118:imail2:Mx9.5:~$ > ~/log/mta.log
mx-10-49-58-118:imail2:Mx9.5:~$ rm: cannot remove 'imapfetch*.log': No such file or directory
rm: cannot remove 'send*.log': No such file or directory
########## 2 Accounts provision ...
6706927467079716259
7524070793746730472
7476972409818682356
7080387549382335997
8562303220525759124
[32m########## 2 Accont provision successfully, we can continue now[0m
spawn ssh root@10.49.58.118
Last login: Fri Nov 17 22:37:53 2017 from 10.6.105.91
]0;root@mx-10-49-58-118:~[?1034h[root@mx-10-49-58-118 ~]# date +%s
1510976457
]0;root@mx-10-49-58-118:~[root@mx-10-49-58-118 ~]# 
]0;root@mx-10-49-58-118:~[root@mx-10-49-58-118 ~]# ########## 4 Configure user1 to vacation autoreply mode using expect tool ...
spawn ssh imail2@10.49.58.118
Password: 
Last login: Fri Nov 17 22:39:56 2017 from 10.6.105.91
[?1034hmx-10-49-58-118:imail2:Mx9.5:~$ echo 'internal:' >data.txt
mx-10-49-58-118:imail2:Mx9.5:~$ echo 'Reply,This is an autoreply message for internal senders!' >>data.txt
mx-10-49-58-118:imail2:Mx9.5:~$ echo 'external:' >>data.txt
mx-10-49-58-118:imail2:Mx9.5:~$ echo 'Reply,This is an external autoreply message for external senders!' >>data.txt
mx-10-49-58-118:imail2:Mx9.5:~$ autoreplyctrl ar9518@openwave.com reply data.txt none 1510978257
AutoReply data updated Successfully.
mx-10-49-58-118:imail2:Mx9.5:~$ [32m##########4 Congifuration successfully[0m
##########5 delieber 1 message from user1 to user2 ...
########## 6 Check mta.log using expect tool ...
spawn ssh imail2@10.49.58.118
Password: 
Last login: Fri Nov 17 22:41:06 2017 from 10.6.105.91
[?1034hmx-10-49-58-118:imail2:Mx9.5:~$ cat log/mta.log
20171117 224111530-0500 mx-10-49-58-118 mta 28284 29539 140306436949760 Note;SmtpConnectionReceived(70/1) [10.6.105.91]:fromhost=10.6.105.91:fromport=58842:localAddr=10.49.58.118:sid=EF5D77B7-75D8442B-0000001A.0
20171117 224111531-0500 mx-10-49-58-118 mta 28284 29540 140306435086080 Note;SmtpConnectionReceived(70/1) [10.6.105.91]:fromhost=10.6.105.91:fromport=58840:localAddr=10.49.58.118:sid=EF5D77B7-75D8442B-0000001C.0
20171117 224111532-0500 mx-10-49-58-118 mta 28284 29537 140306452186880 Note;SmtpConnectionReceived(70/1) [10.6.105.91]:fromhost=10.6.105.91:fromport=58844:localAddr=10.49.58.118:sid=EF5D77B7-75D8442B-0000001E.0
20171117 224111532-0500 mx-10-49-58-118 mta 28284 29538 140306435352320 Note;SmtpConnectionReceived(70/1) [10.6.105.91]:fromhost=10.6.105.91:fromport=58846:localAddr=10.49.58.118:sid=EF5D77B7-75D8442B-00000020.0
20171117 224113677-0500 mx-10-49-58-118 mta 28284 29537 140306452186880 Note;MsgTrace(65/26) received from internet:from=<ar22877@whsasf.com>:msgid=<20171118034112.AAU28284.mx-10-49-58-118.openwave.com@whsasf.com>:fromhost=[10.6.105.91]:fromport=58844:localAddr=10.49.58.118:sid=EF5D77B7-75D8442B-0000001E.1:msgsize=438:time=1:sender=<ar22877@whsasf.com>:rcpts=<ar9518@openwave.com>:protocol=ESMTP:encoding=plaintext:auth=
20171117 224113677-0500 mx-10-49-58-118 mta 28284 29545 140306434553600 Note;MsgTrace(65/26) docid will be used for message-id:user=ar9518@openwave.com:from=<ar22877@whsasf.com>:msgid=<20171118034112.AAU28284.mx-10-49-58-118.openwave.com@whsasf.com>:size=545:fromhost=10.6.105.91:fromport=58844:localAddr=[10.49.58.118]:sid=EF5D77B7-75D8442B-0000001E.1
20171117 224113683-0500 mx-10-49-58-118 mta 28284 29539 140306436949760 Note;MsgTrace(65/26) received from internet:from=<ar7756@openwave.com>:msgid=<20171118034112.AAX28284.mx-10-49-58-118.openwave.com@openwave.com>:fromhost=[10.6.105.91]:fromport=58842:localAddr=10.49.58.118:sid=EF5D77B7-75D8442B-0000001A.1:msgsize=442:time=1:sender=<ar7756@openwave.com>:rcpts=<ar9518@openwave.com>:protocol=ESMTP:encoding=plaintext:auth=
20171117 224113683-0500 mx-10-49-58-118 mta 28284 29540 140306435086080 Note;MsgTrace(65/26) received from internet:from=<ar930@openwave.com>:msgid=<20171118034112.AAW28284.mx-10-49-58-118.openwave.com@openwave.com>:fromhost=[10.6.105.91]:fromport=58840:localAddr=10.49.58.118:sid=EF5D77B7-75D8442B-0000001C.1:msgsize=442:time=1:sender=<ar930@openwave.com>:rcpts=<ar9518@openwave.com>:protocol=ESMTP:encoding=plaintext:auth=
20171117 224113683-0500 mx-10-49-58-118 mta 28284 29545 140306434553600 Note;MsgTrace(65/26) docid will be used for message-id:user=ar9518@openwave.com:from=<ar930@openwave.com>:msgid=<20171118034112.AAW28284.mx-10-49-58-118.openwave.com@openwave.com>:size=551:fromhost=10.6.105.91:fromport=58840:localAddr=[10.49.58.118]:sid=EF5D77B7-75D8442B-0000001C.1
20171117 224113683-0500 mx-10-49-58-118 mta 28284 29544 140306434819840 Note;MsgTrace(65/26) docid will be used for message-id:user=ar9518@openwave.com:from=<ar7756@openwave.com>:msgid=<20171118034112.AAX28284.mx-10-49-58-118.openwave.com@openwave.com>:size=552:fromhost=10.6.105.91:fromport=58842:localAddr=[10.49.58.118]:sid=EF5D77B7-75D8442B-0000001A.1
20171117 224113685-0500 mx-10-49-58-118 mta 28284 29545 140306434553600 Note;MsgTrace(65/26) docid will be used for message-id:user=ar9518@openwave.com:from=<ar24511@whsasf.com>:msgid=<20171118034112.AAV28284.mx-10-49-58-118.openwave.com@whsasf.com>:size=545:fromhost=10.6.105.91:fromport=58846:localAddr=[10.49.58.118]:sid=EF5D77B7-75D8442B-00000020.1
20171117 224113685-0500 mx-10-49-58-118 mta 28284 29538 140306435352320 Note;MsgTrace(65/26) received from internet:from=<ar24511@whsasf.com>:msgid=<20171118034112.AAV28284.mx-10-49-58-118.openwave.com@whsasf.com>:fromhost=[10.6.105.91]:fromport=58846:localAddr=10.49.58.118:sid=EF5D77B7-75D8442B-00000020.1:msgsize=438:time=1:sender=<ar24511@whsasf.com>:rcpts=<ar9518@openwave.com>:protocol=ESMTP:encoding=plaintext:auth=
20171117 224113713-0500 mx-10-49-58-118 mta 28284 30127 140306432157440 Note;MsgTrace(65/26) delivered:user=ar9518@openwave.com:mbox=6706927467079716259:mss=mx-10-49-58-118:from=<ar22877@whsasf.com>:msgid=<20171118034112.AAU28284.mx-10-49-58-118.openwave.com@whsasf.com>:size=580:port=55014:fromhost=10.6.105.91:fromport=58844:localAddr=[10.49.58.118]:sid=EF5D77B7-75D8442B-0000001E.1:docid=53479094-cc12-11e7-afe0-23ffd746d74f:node=mx-10-49-58-118:nodePort=55014
20171117 224113732-0500 mx-10-49-58-118 mta 28284 30549 140306431891200 Note;MsgTrace(65/26) delivered:user=ar9518@openwave.com:mbox=6706927467079716259:mss=mx-10-49-58-118:from=<ar930@openwave.com>:msgid=<20171118034112.AAW28284.mx-10-49-58-118.openwave.com@openwave.com>:size=586:port=55014:fromhost=10.6.105.91:fromport=58840:localAddr=[10.49.58.118]:sid=EF5D77B7-75D8442B-0000001C.1:docid=53488224-cc12-11e7-b26b-ea605a1f9abd:node=mx-10-49-58-118:nodePort=55014
20171117 224113737-0500 mx-10-49-58-118 mta 28284 30549 140306431891200 Note;MsgTrace(65/26) autoreplied:user=ar9518@openwave.com:mbox=6706927467079716259:mss=mx-10-49-58-118:from=<ar930@openwave.com>:msgid=<20171118034112.AAW28284.mx-10-49-58-118.openwave.com@openwave.com>:size=551:port=55014:fromhost=10.6.105.91:fromport=58840:localAddr=[10.49.58.118]:sid=EF5D77B7-75D8442B-0000001C.1:node=mx-10-49-58-118:nodePort=55014
20171117 224113750-0500 mx-10-49-58-118 mta 28284 29544 140306434819840 Note;MsgTrace(65/26) docid will be used for message-id:user=ar930@openwave.com:from=<>:msgid=<20171118034113.AAZ28284.mx-10-49-58-118.openwave.com@mx-10-49-58-118>:size=462:sid=EF5D77B7-75D8442B-0000001C.1
20171117 224113753-0500 mx-10-49-58-118 mta 28284 30553 140306431358720 Note;MsgTrace(65/26) delivered:user=ar9518@openwave.com:mbox=6706927467079716259:mss=mx-10-49-58-118:from=<ar24511@whsasf.com>:msgid=<20171118034112.AAV28284.mx-10-49-58-118.openwave.com@whsasf.com>:size=580:port=55014:fromhost=10.6.105.91:fromport=58846:localAddr=[10.49.58.118]:sid=EF5D77B7-75D8442B-00000020.1:docid=5348c9d2-cc12-11e7-a5d1-ffe13ddf1081:node=mx-10-49-58-118:nodePort=55014
20171117 224113757-0500 mx-10-49-58-118 mta 28284 30553 140306431358720 Note;MsgTrace(65/26) autoreplied:user=ar9518@openwave.com:mbox=6706927467079716259:mss=mx-10-49-58-118:from=<ar24511@whsasf.com>:msgid=<20171118034112.AAV28284.mx-10-49-58-118.openwave.com@whsasf.com>:size=545:port=55014:fromhost=10.6.105.91:fromport=58846:localAddr=[10.49.58.118]:sid=EF5D77B7-75D8442B-00000020.1:node=mx-10-49-58-118:nodePort=55014
20171117 224113760-0500 mx-10-49-58-118 mta 28284 30127 140306432157440 Note;MsgTrace(65/26) autoreplied:user=ar9518@openwave.com:mbox=6706927467079716259:mss=mx-10-49-58-118:from=<ar22877@whsasf.com>:msgid=<20171118034112.AAU28284.mx-10-49-58-118.openwave.com@whsasf.com>:size=545:port=55014:fromhost=10.6.105.91:fromport=58844:localAddr=[10.49.58.118]:sid=EF5D77B7-75D8442B-0000001E.1:node=mx-10-49-58-118:nodePort=55014
20171117 224113774-0500 mx-10-49-58-118 mta 28284 29545 140306434553600 Note;MsgTrace(65/26) docid will be used for message-id:user=ar24511@whsasf.com:from=<>:msgid=<20171118034113.ABA28284.mx-10-49-58-118.openwave.com@mx-10-49-58-118>:size=460:sid=EF5D77B7-75D8442B-00000020.1
20171117 224113774-0500 mx-10-49-58-118 mta 28284 29544 140306434819840 Note;MsgTrace(65/26) docid will be used for message-id:user=ar22877@whsasf.com:from=<>:msgid=<20171118034113.AAY28284.mx-10-49-58-118.openwave.com@mx-10-49-58-118>:size=460:sid=EF5D77B7-75D8442B-0000001E.1
20171117 224113793-0500 mx-10-49-58-118 mta 28284 30550 140306431624960 Note;MsgTrace(65/26) delivered:user=ar9518@openwave.com:mbox=6706927467079716259:mss=mx-10-49-58-118:from=<ar7756@openwave.com>:msgid=<20171118034112.AAX28284.mx-10-49-58-118.openwave.com@openwave.com>:size=588:port=55014:fromhost=10.6.105.91:fromport=58842:localAddr=[10.49.58.118]:sid=EF5D77B7-75D8442B-0000001A.1:docid=53488062-cc12-11e7-91c3-3d5d7eb6877c:node=mx-10-49-58-118:nodePort=55014
20171117 224113797-0500 mx-10-49-58-118 mta 28284 30550 140306431624960 Note;MsgTrace(65/26) autoreplied:user=ar9518@openwave.com:mbox=6706927467079716259:mss=mx-10-49-58-118:from=<ar7756@openwave.com>:msgid=<20171118034112.AAX28284.mx-10-49-58-118.openwave.com@openwave.com>:size=552:port=55014:fromhost=10.6.105.91:fromport=58842:localAddr=[10.49.58.118]:sid=EF5D77B7-75D8442B-0000001A.1:node=mx-10-49-58-118:nodePort=55014
20171117 224113812-0500 mx-10-49-58-118 mta 28284 30554 140306431092480 Note;MsgTrace(65/26) delivered:user=ar930@openwave.com:mbox=7476972409818682356:mss=mx-10-49-58-118:from=<>:msgid=<20171118034113.AAZ28284.mx-10-49-58-118.openwave.com@mx-10-49-58-118>:size=540:port=55014:sid=EF5D77B7-75D8442B-0000001C.1:docid=5350b3a4-cc12-11e7-9d61-2c4808150e85:node=mx-10-49-58-118:nodePort=55014
20171117 224113817-0500 mx-10-49-58-118 mta 28284 29545 140306434553600 Note;MsgTrace(65/26) docid will be used for message-id:user=ar7756@openwave.com:from=<>:msgid=<20171118034113.ABB28284.mx-10-49-58-118.openwave.com@mx-10-49-58-118>:size=463:sid=EF5D77B7-75D8442B-0000001A.1
20171117 224113830-0500 mx-10-49-58-118 mta 28284 30549 140306431891200 Note;MsgTrace(65/26) delivered:user=ar22877@whsasf.com:mbox=7080387549382335997:mss=mx-10-49-58-118:from=<>:msgid=<20171118034113.AAY28284.mx-10-49-58-118.openwave.com@mx-10-49-58-118>:size=547:port=55014:sid=EF5D77B7-75D8442B-0000001E.1:docid=534dc50e-cc12-11e7-a81e-b53c9c7d7ecb:node=mx-10-49-58-118:nodePort=55014
20171117 224113834-0500 mx-10-49-58-118 mta 28284 29549 140306433488640 Note;MsgTrace(65/26) delivered:user=ar24511@whsasf.com:mbox=8562303220525759124:mss=mx-10-49-58-119:from=<>:msgid=<20171118034113.ABA28284.mx-10-49-58-118.openwave.com@mx-10-49-58-118>:size=547:port=55014:sid=EF5D77B7-75D8442B-00000020.1:docid=5353ca26-cc12-11e7-98df-07deeafb6b4e:node=mx-10-49-58-119:nodePort=55014
20171117 224113864-0500 mx-10-49-58-118 mta 28284 30127 140306432157440 Note;MsgTrace(65/26) delivered:user=ar7756@openwave.com:mbox=7524070793746730472:mss=mx-10-49-58-118:from=<>:msgid=<20171118034113.ABB28284.mx-10-49-58-118.openwave.com@mx-10-49-58-118>:size=541:port=55014:sid=EF5D77B7-75D8442B-0000001A.1:docid=5359e474-cc12-11e7-a496-b876218af65f:node=mx-10-49-58-118:nodePort=55014
20171117 224114009-0500 mx-10-49-58-118 mta 28284 29537 140306452186880 Note;SmtpConnectionClosed(70/2) [10.6.105.91]:3:1:193:fromhost=[10.6.105.91]:fromport=58844:localAddr=10.49.58.118:sid=EF5D77B7-75D8442B-0000001E.1
20171117 224114016-0500 mx-10-49-58-118 mta 28284 29539 140306436949760 Note;SmtpConnectionClosed(70/2) [10.6.105.91]:3:1:196:fromhost=[10.6.105.91]:fromport=58842:localAddr=10.49.58.118:sid=EF5D77B7-75D8442B-0000001A.1
20171117 224114016-0500 mx-10-49-58-118 mta 28284 29538 140306435352320 Note;SmtpConnectionClosed(70/2) [10.6.105.91]:3:1:193:fromhost=[10.6.105.91]:fromport=58846:localAddr=10.49.58.118:sid=EF5D77B7-75D8442B-00000020.1
20171117 224114016-0500 mx-10-49-58-118 mta 28284 29540 140306435086080 Note;SmtpConnectionClosed(70/2) [10.6.105.91]:3:1:195:fromhost=[10.6.105.91]:fromport=58840:localAddr=10.49.58.118:sid=EF5D77B7-75D8442B-0000001C.1
mx-10-49-58-118:imail2:Mx9.5:~$ [32m##########6 Autoreply messaeg delievered successfully!![0m
########## 5 check autoreplied message in inbox of user2,user3,user4,user5 ...
imapmail: host[10.49.58.118] port[20143] user[ar7756] pass[p] folder[inbox] message[2]
xx OK LOGIN completed
* 2 EXISTS
* OK [UNSEEN 1] First unseen message
* OK [UIDVALIDITY 1510976401] UIDs valid
* OK [UIDNEXT 1002] Predicted next UID
* FLAGS (\Answered \Flagged \Deleted \Draft \Seen)
* OK [PERMANENTFLAGS (\* \Answered \Flagged \Deleted \Draft \Seen)] Permanent flags
* 1 RECENT
xx OK [READ-WRITE] SELECT completed
* 2 FETCH (BODY[] {541}
Return-Path: <>
Subject: Re: test message about autoreply feature
To: ar7756@openwave.com
From: "Auto-reply from ar9518@openwave.com" <ar9518@openwave.com>
In-Reply-To: <20171118034112.AAX28284.mx-10-49-58-118.openwave.com@openwave.com>
Precedence: bulk
Date: Fri, 17 Nov 2017 22:41:13 -0500
Message-ID: <20171118034113.ABB28284.mx-10-49-58-118.openwave.com@mx-10-49-58-118>
MIME-Version: 1.0
Content-Type: text/plain;
		charset=UTF-8
Content-Transfer-Encoding: 7bit


Reply,This is an autoreply message for internal senders!
 FLAGS (\Recent \Seen))
xx OK FETCH completed
* BYE IMAP4 server terminating connection
xx OK LOGOUT completed
imapmail: host[10.49.58.118] port[20143] user[ar930] pass[p] folder[inbox] message[2]
xx OK LOGIN completed
* 2 EXISTS
* OK [UNSEEN 1] First unseen message
* OK [UIDVALIDITY 1510976402] UIDs valid
* OK [UIDNEXT 1002] Predicted next UID
* FLAGS (\Answered \Flagged \Deleted \Draft \Seen)
* OK [PERMANENTFLAGS (\* \Answered \Flagged \Deleted \Draft \Seen)] Permanent flags
* 1 RECENT
xx OK [READ-WRITE] SELECT completed
* 2 FETCH (BODY[] {540}
Return-Path: <>
Subject: Re: test message about autoreply feature
To: ar930@openwave.com
From: "Auto-reply from ar9518@openwave.com" <ar9518@openwave.com>
In-Reply-To: <20171118034112.AAW28284.mx-10-49-58-118.openwave.com@openwave.com>
Precedence: bulk
Date: Fri, 17 Nov 2017 22:41:13 -0500
Message-ID: <20171118034113.AAZ28284.mx-10-49-58-118.openwave.com@mx-10-49-58-118>
MIME-Version: 1.0
Content-Type: text/plain;
		charset=UTF-8
Content-Transfer-Encoding: 7bit


Reply,This is an autoreply message for internal senders!
 FLAGS (\Recent \Seen))
xx OK FETCH completed
* BYE IMAP4 server terminating connection
xx OK LOGOUT completed
imapmail: host[10.49.58.118] port[20143] user[ar22877] pass[p] folder[inbox] message[2]
xx OK LOGIN completed
* 2 EXISTS
* OK [UNSEEN 1] First unseen message
* OK [UIDVALIDITY 1510976405] UIDs valid
* OK [UIDNEXT 1002] Predicted next UID
* FLAGS (\Answered \Flagged \Deleted \Draft \Seen)
* OK [PERMANENTFLAGS (\* \Answered \Flagged \Deleted \Draft \Seen)] Permanent flags
* 1 RECENT
xx OK [READ-WRITE] SELECT completed
* 2 FETCH (BODY[] {547}
Return-Path: <>
Subject: Re: test message about autoreply feature
To: ar22877@whsasf.com
From: "Auto-reply from ar9518@openwave.com" <ar9518@openwave.com>
In-Reply-To: <20171118034112.AAU28284.mx-10-49-58-118.openwave.com@whsasf.com>
Precedence: bulk
Date: Fri, 17 Nov 2017 22:41:13 -0500
Message-ID: <20171118034113.AAY28284.mx-10-49-58-118.openwave.com@mx-10-49-58-118>
MIME-Version: 1.0
Content-Type: text/plain;
		charset=UTF-8
Content-Transfer-Encoding: 7bit


Reply,This is an external autoreply message for external senders!
 FLAGS (\Recent \Seen))
xx OK FETCH completed
* BYE IMAP4 server terminating connection
xx OK LOGOUT completed
imapmail: host[10.49.58.118] port[20143] user[ar24511] pass[p] folder[inbox] message[2]
xx OK LOGIN completed
* 2 EXISTS
* OK [UNSEEN 1] First unseen message
* OK [UIDVALIDITY 1510976256] UIDs valid
* OK [UIDNEXT 1002] Predicted next UID
* FLAGS (\Answered \Flagged \Deleted \Draft \Seen)
* OK [PERMANENTFLAGS (\* \Answered \Flagged \Deleted \Draft \Seen)] Permanent flags
* 1 RECENT
xx OK [READ-WRITE] SELECT completed
* 2 FETCH (BODY[] {547}
Return-Path: <>
Subject: Re: test message about autoreply feature
To: ar24511@whsasf.com
From: "Auto-reply from ar9518@openwave.com" <ar9518@openwave.com>
In-Reply-To: <20171118034112.AAV28284.mx-10-49-58-118.openwave.com@whsasf.com>
Precedence: bulk
Date: Fri, 17 Nov 2017 22:41:13 -0500
Message-ID: <20171118034113.ABA28284.mx-10-49-58-118.openwave.com@mx-10-49-58-118>
MIME-Version: 1.0
Content-Type: text/plain;
		charset=UTF-8
Content-Transfer-Encoding: 7bit


Reply,This is an external autoreply message for external senders!
 FLAGS (\Recent \Seen))
xx OK FETCH completed
* BYE IMAP4 server terminating connection
xx OK LOGOUT completed
[32m##########7 Check autoreplied messaege successfully!![0m
TESTPASSED: /home/whsasf/workspace/bohem/Automation/multiple-messages-simultaneously-for-in-and-out-domains-senders/Deliever-message-before-AutoReplyStopDate-when-only-it-set/mx-10288-10304: AutoReply in reply mode with message delievered before stop date for hybrid sender test success! (98 sec.)
##########  doing some clear job ...
[32m##########  Accont deleted successfully[0m
PASSED: /home/whsasf/workspace/bohem/Automation/multiple-messages-simultaneously-for-in-and-out-domains-senders/Deliever-message-before-AutoReplyStopDate-when-only-it-set/mx-10288-10304 [20171118-114220] (105 sec.) 9
Test ended: Sat Nov 18 11:44:05 CST 2017

