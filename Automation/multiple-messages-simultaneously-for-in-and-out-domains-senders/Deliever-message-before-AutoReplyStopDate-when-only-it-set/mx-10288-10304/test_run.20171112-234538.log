	**********  Starting /home/whsasf/workspace/bohem/Automation/multiple-messages-simultaneously-for-in-and-out-domains-senders/Deliever-message-before-AutoReplyStopDate-when-only-it-set/mx-10288-10304  **********
Test started: Sun Nov 12 23:45:38 CST 2017
########## 1 Clear mta.log using expect tool ...
spawn ssh imail2@10.49.58.118
Password: 
Last login: Sun Nov 12 10:42:35 2017 from 10.6.105.35
[?1034hmx-10-49-58-118:imail2:Mx9.5:~$ > ~/log/mta.log
mx-10-49-58-118:imail2:Mx9.5:~$ ########## 2 Accounts provision ...
5182463289244453264
7863605282645144749
4690958157495988574
6815190764425415589
5951806356299424723
[32m########## 2 Accont provision successfully, we can continue now[0m
spawn ssh root@10.49.58.118
Password: 
Last login: Sun Nov 12 10:41:58 2017 from 10.6.105.35
]0;root@mx-10-49-58-118:~[?1034h[root@mx-10-49-58-118 ~]# date +%s
1510501432
]0;root@mx-10-49-58-118:~[root@mx-10-49-58-118 ~]# 
]0;root@mx-10-49-58-118:~[root@mx-10-49-58-118 ~]# ########## 4 Configure user1 to vacation autoreply mode using expect tool ...
spawn ssh imail2@10.49.58.118
Password: 
Last login: Sun Nov 12 10:43:35 2017 from 10.6.105.35
[?1034hmx-10-49-58-118:imail2:Mx9.5:~$ echo 'internal:' >data.txt
mx-10-49-58-118:imail2:Mx9.5:~$ echo 'Reply,This is an autoreply message for internal senders!' >>data.txt
mx-10-49-58-118:imail2:Mx9.5:~$ echo 'external:' >>data.txt
mx-10-49-58-118:imail2:Mx9.5:~$ echo 'Reply,This is an external autoreply message for external senders!' >>data.txt
mx-10-49-58-118:imail2:Mx9.5:~$ autoreplyctrl ar28033@openwave.com reply data.txt none 1510503232
AutoReply data updated Successfully.
mx-10-49-58-118:imail2:Mx9.5:~$ [32m##########4 Congifuration successfully[0m
##########5 delieber 1 message from user1 to user2 ...
########## 6 Check mta.log using expect tool ...
spawn ssh imail2@10.49.58.118
Password: 
Last login: Sun Nov 12 10:43:58 2017 from 10.6.105.35
[?1034hmx-10-49-58-118:imail2:Mx9.5:~$ cat log/mta.log
20171112 104404541-0500 mx-10-49-58-118 mta 26417 27464 139676428830464 Note;SmtpConnectionReceived(70/1) [10.6.105.35]:fromhost=10.6.105.35:fromport=44636:localAddr=10.49.58.118:sid=57FAE7E5-8E748501-0000000A.0
20171112 104404541-0500 mx-10-49-58-118 mta 26417 27466 139676413593344 Note;SmtpConnectionReceived(70/1) [10.6.105.35]:fromhost=10.6.105.35:fromport=44640:localAddr=10.49.58.118:sid=57FAE7E5-8E748501-0000000C.0
20171112 104404544-0500 mx-10-49-58-118 mta 26417 27465 139676411995904 Note;SmtpConnectionReceived(70/1) [10.6.105.35]:fromhost=10.6.105.35:fromport=44642:localAddr=10.49.58.118:sid=57FAE7E5-8E748501-0000000E.0
20171112 104404544-0500 mx-10-49-58-118 mta 26417 27467 139676411729664 Note;SmtpConnectionReceived(70/1) [10.6.105.35]:fromhost=10.6.105.35:fromport=44638:localAddr=10.49.58.118:sid=57FAE7E5-8E748501-00000010.0
20171112 104407586-0500 mx-10-49-58-118 mta 26417 27474 139676411463424 Note;MsgTrace(65/26) docid will be used for message-id:user=ar28033@openwave.com:from=<ar7583@whsasf.com>:msgid=<20171112154406.AAK26417.mx-10-49-58-118.openwave.com@whsasf.com>:size=546:fromhost=10.6.105.35:fromport=44642:localAddr=[10.49.58.118]:sid=57FAE7E5-8E748501-0000000E.1
20171112 104407586-0500 mx-10-49-58-118 mta 26417 27465 139676411995904 Note;MsgTrace(65/26) received from internet:from=<ar7583@whsasf.com>:msgid=<20171112154406.AAK26417.mx-10-49-58-118.openwave.com@whsasf.com>:fromhost=[10.6.105.35]:fromport=44642:localAddr=10.49.58.118:sid=57FAE7E5-8E748501-0000000E.1:msgsize=440:time=2:sender=<ar7583@whsasf.com>:rcpts=<ar28033@openwave.com>:protocol=ESMTP:encoding=plaintext:auth=
20171112 104407607-0500 mx-10-49-58-118 mta 26417 27474 139676411463424 Note;MsgTrace(65/26) docid will be used for message-id:user=ar28033@openwave.com:from=<ar5164@openwave.com>:msgid=<20171112154406.AAL26417.mx-10-49-58-118.openwave.com@openwave.com>:size=554:fromhost=10.6.105.35:fromport=44638:localAddr=[10.49.58.118]:sid=57FAE7E5-8E748501-00000010.1
20171112 104407609-0500 mx-10-49-58-118 mta 26417 27837 139676409067264 Note;MsgTrace(65/26) docid will be used for message-id:user=ar28033@openwave.com:from=<ar27432@whsasf.com>:msgid=<20171112154406.AAI26417.mx-10-49-58-118.openwave.com@whsasf.com>:size=547:fromhost=10.6.105.35:fromport=44640:localAddr=[10.49.58.118]:sid=57FAE7E5-8E748501-0000000C.1
20171112 104407609-0500 mx-10-49-58-118 mta 26417 27467 139676411729664 Note;MsgTrace(65/26) received from internet:from=<ar5164@openwave.com>:msgid=<20171112154406.AAL26417.mx-10-49-58-118.openwave.com@openwave.com>:fromhost=[10.6.105.35]:fromport=44638:localAddr=10.49.58.118:sid=57FAE7E5-8E748501-00000010.1:msgsize=444:time=2:sender=<ar5164@openwave.com>:rcpts=<ar28033@openwave.com>:protocol=ESMTP:encoding=plaintext:auth=
20171112 104407609-0500 mx-10-49-58-118 mta 26417 27464 139676428830464 Note;MsgTrace(65/26) received from internet:from=<ar4202@openwave.com>:msgid=<20171112154406.AAJ26417.mx-10-49-58-118.openwave.com@openwave.com>:fromhost=[10.6.105.35]:fromport=44636:localAddr=10.49.58.118:sid=57FAE7E5-8E748501-0000000A.1:msgsize=444:time=2:sender=<ar4202@openwave.com>:rcpts=<ar28033@openwave.com>:protocol=ESMTP:encoding=plaintext:auth=
20171112 104407609-0500 mx-10-49-58-118 mta 26417 27837 139676409067264 Note;MsgTrace(65/26) docid will be used for message-id:user=ar28033@openwave.com:from=<ar4202@openwave.com>:msgid=<20171112154406.AAJ26417.mx-10-49-58-118.openwave.com@openwave.com>:size=554:fromhost=10.6.105.35:fromport=44636:localAddr=[10.49.58.118]:sid=57FAE7E5-8E748501-0000000A.1
20171112 104407609-0500 mx-10-49-58-118 mta 26417 27466 139676413593344 Note;MsgTrace(65/26) received from internet:from=<ar27432@whsasf.com>:msgid=<20171112154406.AAI26417.mx-10-49-58-118.openwave.com@whsasf.com>:fromhost=[10.6.105.35]:fromport=44640:localAddr=10.49.58.118:sid=57FAE7E5-8E748501-0000000C.1:msgsize=440:time=2:sender=<ar27432@whsasf.com>:rcpts=<ar28033@openwave.com>:protocol=ESMTP:encoding=plaintext:auth=
20171112 104407630-0500 mx-10-49-58-118 mta 26417 27485 139676409333504 Note;MsgTrace(65/26) delivered:user=ar28033@openwave.com:mbox=5182463289244453264:mss=mx-10-49-58-118:from=<ar7583@whsasf.com>:msgid=<20171112154406.AAK26417.mx-10-49-58-118.openwave.com@whsasf.com>:size=580:port=55014:fromhost=10.6.105.35:fromport=44642:localAddr=[10.49.58.118]:sid=57FAE7E5-8E748501-0000000E.1:docid=51aa5808-c7c0-11e7-9f2c-a7c3c5e5a4a5:node=mx-10-49-58-118:nodePort=55014
20171112 104407634-0500 mx-10-49-58-118 mta 26417 27485 139676409333504 Note;MsgTrace(65/26) autoreplied:user=ar28033@openwave.com:mbox=5182463289244453264:mss=mx-10-49-58-118:from=<ar7583@whsasf.com>:msgid=<20171112154406.AAK26417.mx-10-49-58-118.openwave.com@whsasf.com>:size=546:port=55014:fromhost=10.6.105.35:fromport=44642:localAddr=[10.49.58.118]:sid=57FAE7E5-8E748501-0000000E.1:node=mx-10-49-58-118:nodePort=55014
20171112 104407650-0500 mx-10-49-58-118 mta 26417 27474 139676411463424 Note;MsgTrace(65/26) docid will be used for message-id:user=ar7583@whsasf.com:from=<>:msgid=<20171112154407.AAM26417.mx-10-49-58-118.openwave.com@mx-10-49-58-118>:size=461:sid=57FAE7E5-8E748501-0000000E.1
20171112 104407661-0500 mx-10-49-58-118 mta 26417 27484 139676409599744 Note;MsgTrace(65/26) delivered:user=ar28033@openwave.com:mbox=5182463289244453264:mss=mx-10-49-58-118:from=<ar5164@openwave.com>:msgid=<20171112154406.AAL26417.mx-10-49-58-118.openwave.com@openwave.com>:size=590:port=55014:fromhost=10.6.105.35:fromport=44638:localAddr=[10.49.58.118]:sid=57FAE7E5-8E748501-00000010.1:docid=51adaa1c-c7c0-11e7-a9b8-7f8a12bccd96:node=mx-10-49-58-118:nodePort=55014
20171112 104407663-0500 mx-10-49-58-118 mta 26417 27484 139676409599744 Note;MsgTrace(65/26) autoreplied:user=ar28033@openwave.com:mbox=5182463289244453264:mss=mx-10-49-58-118:from=<ar5164@openwave.com>:msgid=<20171112154406.AAL26417.mx-10-49-58-118.openwave.com@openwave.com>:size=554:port=55014:fromhost=10.6.105.35:fromport=44638:localAddr=[10.49.58.118]:sid=57FAE7E5-8E748501-00000010.1:node=mx-10-49-58-118:nodePort=55014
20171112 104407679-0500 mx-10-49-58-118 mta 26417 27477 139676410664704 Note;MsgTrace(65/26) delivered:user=ar28033@openwave.com:mbox=5182463289244453264:mss=mx-10-49-58-118:from=<ar4202@openwave.com>:msgid=<20171112154406.AAJ26417.mx-10-49-58-118.openwave.com@openwave.com>:size=590:port=55014:fromhost=10.6.105.35:fromport=44636:localAddr=[10.49.58.118]:sid=57FAE7E5-8E748501-0000000A.1:docid=51adeab8-c7c0-11e7-9193-2c192dc66832:node=mx-10-49-58-118:nodePort=55014
20171112 104407682-0500 mx-10-49-58-118 mta 26417 27477 139676410664704 Note;MsgTrace(65/26) autoreplied:user=ar28033@openwave.com:mbox=5182463289244453264:mss=mx-10-49-58-118:from=<ar4202@openwave.com>:msgid=<20171112154406.AAJ26417.mx-10-49-58-118.openwave.com@openwave.com>:size=554:port=55014:fromhost=10.6.105.35:fromport=44636:localAddr=[10.49.58.118]:sid=57FAE7E5-8E748501-0000000A.1:node=mx-10-49-58-118:nodePort=55014
20171112 104407683-0500 mx-10-49-58-118 mta 26417 27838 139676408801024 Note;MsgTrace(65/26) docid will be used for message-id:user=ar5164@openwave.com:from=<>:msgid=<20171112154407.AAN26417.mx-10-49-58-118.openwave.com@mx-10-49-58-118>:size=465:sid=57FAE7E5-8E748501-00000010.1
20171112 104407694-0500 mx-10-49-58-118 mta 26417 27837 139676409067264 Note;MsgTrace(65/26) docid will be used for message-id:user=ar4202@openwave.com:from=<>:msgid=<20171112154407.AAO26417.mx-10-49-58-118.openwave.com@mx-10-49-58-118>:size=465:sid=57FAE7E5-8E748501-0000000A.1
20171112 104407702-0500 mx-10-49-58-118 mta 26417 27839 139676408534784 Note;MsgTrace(65/26) delivered:user=ar7583@whsasf.com:mbox=6815190764425415589:mss=mx-10-49-58-118:from=<>:msgid=<20171112154407.AAM26417.mx-10-49-58-118.openwave.com@mx-10-49-58-118>:size=548:port=55014:sid=57FAE7E5-8E748501-0000000E.1:docid=51b167d8-c7c0-11e7-b7c6-e0541ff13b1b:node=mx-10-49-58-118:nodePort=55014
20171112 104407711-0500 mx-10-49-58-118 mta 26417 27479 139676410398464 Note;MsgTrace(65/26) delivered:user=ar28033@openwave.com:mbox=5182463289244453264:mss=mx-10-49-58-118:from=<ar27432@whsasf.com>:msgid=<20171112154406.AAI26417.mx-10-49-58-118.openwave.com@whsasf.com>:size=582:port=55014:fromhost=10.6.105.35:fromport=44640:localAddr=[10.49.58.118]:sid=57FAE7E5-8E748501-0000000C.1:docid=51adaa1c-c7c0-11e7-857c-3307e7d6b4c0:node=mx-10-49-58-118:nodePort=55014
20171112 104407714-0500 mx-10-49-58-118 mta 26417 27479 139676410398464 Note;MsgTrace(65/26) autoreplied:user=ar28033@openwave.com:mbox=5182463289244453264:mss=mx-10-49-58-118:from=<ar27432@whsasf.com>:msgid=<20171112154406.AAI26417.mx-10-49-58-118.openwave.com@whsasf.com>:size=547:port=55014:fromhost=10.6.105.35:fromport=44640:localAddr=[10.49.58.118]:sid=57FAE7E5-8E748501-0000000C.1:node=mx-10-49-58-118:nodePort=55014
20171112 104407738-0500 mx-10-49-58-118 mta 26417 27474 139676411463424 Note;MsgTrace(65/26) docid will be used for message-id:user=ar27432@whsasf.com:from=<>:msgid=<20171112154407.AAP26417.mx-10-49-58-118.openwave.com@mx-10-49-58-118>:size=462:sid=57FAE7E5-8E748501-0000000C.1
20171112 104407747-0500 mx-10-49-58-118 mta 26417 27482 139676409865984 Note;MsgTrace(65/26) delivered:user=ar5164@openwave.com:mbox=7863605282645144749:mss=mx-10-49-58-119:from=<>:msgid=<20171112154407.AAN26417.mx-10-49-58-118.openwave.com@mx-10-49-58-118>:size=543:port=55014:sid=57FAE7E5-8E748501-00000010.1:docid=51b63aec-c7c0-11e7-88dd-a3641e1ea18f:node=mx-10-49-58-119:nodePort=55014
20171112 104407750-0500 mx-10-49-58-118 mta 26417 27841 139676408268544 Note;MsgTrace(65/26) delivered:user=ar4202@openwave.com:mbox=4690958157495988574:mss=mx-10-49-58-119:from=<>:msgid=<20171112154407.AAO26417.mx-10-49-58-118.openwave.com@mx-10-49-58-118>:size=543:port=55014:sid=57FAE7E5-8E748501-0000000A.1:docid=51b91334-c7c0-11e7-a20f-c7e88119ac4e:node=mx-10-49-58-119:nodePort=55014
20171112 104407779-0500 mx-10-49-58-118 mta 26417 27485 139676409333504 Note;MsgTrace(65/26) delivered:user=ar27432@whsasf.com:mbox=5951806356299424723:mss=mx-10-49-58-118:from=<>:msgid=<20171112154407.AAP26417.mx-10-49-58-118.openwave.com@mx-10-49-58-118>:size=549:port=55014:sid=57FAE7E5-8E748501-0000000C.1:docid=51bde6fc-c7c0-11e7-9b32-a15d3977c8c3:node=mx-10-49-58-118:nodePort=55014
20171112 104407971-0500 mx-10-49-58-118 mta 26417 27465 139676411995904 Note;SmtpConnectionClosed(70/2) [10.6.105.35]:3:1:194:fromhost=[10.6.105.35]:fromport=44642:localAddr=10.49.58.118:sid=57FAE7E5-8E748501-0000000E.1
20171112 104408930-0500 mx-10-49-58-118 mta 26417 27464 139676428830464 Note;SmtpConnectionClosed(70/2) [10.6.105.35]:4:1:198:fromhost=[10.6.105.35]:fromport=44636:localAddr=10.49.58.118:sid=57FAE7E5-8E748501-0000000A.1
20171112 104408930-0500 mx-10-49-58-118 mta 26417 27467 139676411729664 Note;SmtpConnectionClosed(70/2) [10.6.105.35]:4:1:198:fromhost=[10.6.105.35]:fromport=44638:localAddr=10.49.58.118:sid=57FAE7E5-8E748501-00000010.1
20171112 104408930-0500 mx-10-49-58-118 mta 26417 27466 139676413593344 Note;SmtpConnectionClosed(70/2) [10.6.105.35]:4:1:195:fromhost=[10.6.105.35]:fromport=44640:localAddr=10.49.58.118:sid=57FAE7E5-8E748501-0000000C.1
mx-10-49-58-118:imail2:Mx9.5:~$ [32m##########6 Autoreply messaeg delievered successfully!![0m
########## 5 check autoreplied message in inbox of user2,user3,user4,user5 ...
imapmail: host[10.49.58.118] port[20143] user[ar5164] pass[p] folder[inbox] message[2]
xx OK LOGIN completed
* 2 EXISTS
* OK [UNSEEN 1] First unseen message
* OK [UIDVALIDITY 1510501278] UIDs valid
* OK [UIDNEXT 1002] Predicted next UID
* FLAGS (\Answered \Flagged \Deleted \Draft \Seen)
* OK [PERMANENTFLAGS (\* \Answered \Flagged \Deleted \Draft \Seen)] Permanent flags
* 1 RECENT
xx OK [READ-WRITE] SELECT completed
* 2 FETCH (BODY[] {543}
Return-Path: <>
Subject: Re: test message about autoreply feature
To: ar5164@openwave.com
From: "Auto-reply from ar28033@openwave.com" <ar28033@openwave.com>
In-Reply-To: <20171112154406.AAL26417.mx-10-49-58-118.openwave.com@openwave.com>
Precedence: bulk
Date: Sun, 12 Nov 2017 10:44:07 -0500
Message-ID: <20171112154407.AAN26417.mx-10-49-58-118.openwave.com@mx-10-49-58-118>
MIME-Version: 1.0
Content-Type: text/plain;
		charset=UTF-8
Content-Transfer-Encoding: 7bit


Reply,This is an autoreply message for internal senders!
 FLAGS (\Recent \Seen))
xx OK FETCH completed
* BYE IMAP4 server terminating connection
xx OK LOGOUT completed
imapmail: host[10.49.58.118] port[20143] user[ar4202] pass[p] folder[inbox] message[2]
xx OK LOGIN completed
* 2 EXISTS
* OK [UNSEEN 1] First unseen message
* OK [UIDVALIDITY 1510501278] UIDs valid
* OK [UIDNEXT 1002] Predicted next UID
* FLAGS (\Answered \Flagged \Deleted \Draft \Seen)
* OK [PERMANENTFLAGS (\* \Answered \Flagged \Deleted \Draft \Seen)] Permanent flags
* 1 RECENT
xx OK [READ-WRITE] SELECT completed
* 2 FETCH (BODY[] {543}
Return-Path: <>
Subject: Re: test message about autoreply feature
To: ar4202@openwave.com
From: "Auto-reply from ar28033@openwave.com" <ar28033@openwave.com>
In-Reply-To: <20171112154406.AAJ26417.mx-10-49-58-118.openwave.com@openwave.com>
Precedence: bulk
Date: Sun, 12 Nov 2017 10:44:07 -0500
Message-ID: <20171112154407.AAO26417.mx-10-49-58-118.openwave.com@mx-10-49-58-118>
MIME-Version: 1.0
Content-Type: text/plain;
		charset=UTF-8
Content-Transfer-Encoding: 7bit


Reply,This is an autoreply message for internal senders!
 FLAGS (\Recent \Seen))
xx OK FETCH completed
* BYE IMAP4 server terminating connection
xx OK LOGOUT completed
imapmail: host[10.49.58.118] port[20143] user[ar7583] pass[p] folder[inbox] message[2]
xx OK LOGIN completed
* 2 EXISTS
* OK [UNSEEN 1] First unseen message
* OK [UIDVALIDITY 1510501424] UIDs valid
* OK [UIDNEXT 1002] Predicted next UID
* FLAGS (\Answered \Flagged \Deleted \Draft \Seen)
* OK [PERMANENTFLAGS (\* \Answered \Flagged \Deleted \Draft \Seen)] Permanent flags
* 1 RECENT
xx OK [READ-WRITE] SELECT completed
* 2 FETCH (BODY[] {548}
Return-Path: <>
Subject: Re: test message about autoreply feature
To: ar7583@whsasf.com
From: "Auto-reply from ar28033@openwave.com" <ar28033@openwave.com>
In-Reply-To: <20171112154406.AAK26417.mx-10-49-58-118.openwave.com@whsasf.com>
Precedence: bulk
Date: Sun, 12 Nov 2017 10:44:07 -0500
Message-ID: <20171112154407.AAM26417.mx-10-49-58-118.openwave.com@mx-10-49-58-118>
MIME-Version: 1.0
Content-Type: text/plain;
		charset=UTF-8
Content-Transfer-Encoding: 7bit


Reply,This is an external autoreply message for external senders!
 FLAGS (\Recent \Seen))
xx OK FETCH completed
* BYE IMAP4 server terminating connection
xx OK LOGOUT completed
imapmail: host[10.49.58.118] port[20143] user[ar27432] pass[p] folder[inbox] message[2]
xx OK LOGIN completed
* 2 EXISTS
* OK [UNSEEN 1] First unseen message
* OK [UIDVALIDITY 1510501424] UIDs valid
* OK [UIDNEXT 1002] Predicted next UID
* FLAGS (\Answered \Flagged \Deleted \Draft \Seen)
* OK [PERMANENTFLAGS (\* \Answered \Flagged \Deleted \Draft \Seen)] Permanent flags
* 1 RECENT
xx OK [READ-WRITE] SELECT completed
* 2 FETCH (BODY[] {549}
Return-Path: <>
Subject: Re: test message about autoreply feature
To: ar27432@whsasf.com
From: "Auto-reply from ar28033@openwave.com" <ar28033@openwave.com>
In-Reply-To: <20171112154406.AAI26417.mx-10-49-58-118.openwave.com@whsasf.com>
Precedence: bulk
Date: Sun, 12 Nov 2017 10:44:07 -0500
Message-ID: <20171112154407.AAP26417.mx-10-49-58-118.openwave.com@mx-10-49-58-118>
MIME-Version: 1.0
Content-Type: text/plain;
		charset=UTF-8
Content-Transfer-Encoding: 7bit


Reply,This is an external autoreply message for external senders!
 FLAGS (\Recent \Seen))
xx OK FETCH completed
* BYE IMAP4 server terminating connection
xx OK LOGOUT completed
[32m##########7 Check autoreplied messaege successfully!![0m
TESTPASSED: /home/whsasf/workspace/bohem/Automation/multiple-messages-simultaneously-for-in-and-out-domains-senders/Deliever-message-before-AutoReplyStopDate-when-only-it-set/mx-10288-10304: AutoReply in reply mode with message delievered before stop date for hybrid sender test success! (100 sec.)
##########  doing some clear job ...
PASSED: /home/whsasf/workspace/bohem/Automation/multiple-messages-simultaneously-for-in-and-out-domains-senders/Deliever-message-before-AutoReplyStopDate-when-only-it-set/mx-10288-10304 [20171112-234538] (100 sec.)
Test ended: Sun Nov 12 23:47:18 CST 2017

[32m##########  Accont deleted successfully[0m
