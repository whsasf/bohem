	**********  Starting /home/ram/workspace/bohem/Automation/multiple-messages-simultaneously-for-in-and-out-domains-senders/Deliever-message-before-AutoReplyStopDate-when-only-it-set/mx-10288-10304  **********
Test started: Thu Nov 16 10:36:34 CST 2017
########## 1 Clear mta.log using expect tool ...
spawn ssh imail2@10.49.58.118
Password: 
Last login: Wed Nov 15 21:33:53 2017 from bigchina
[?1034hmx-10-49-58-118:imail2:Mx9.5:~$ > ~/log/mta.log
mx-10-49-58-118:imail2:Mx9.5:~$ ########## 2 Accounts provision ...
8551108701161849034
8111393282088936108
4675373552975188583
7280358497724189110
7713092850671713624
[32m########## 2 Accont provision successfully, we can continue now[0m
spawn ssh root@10.49.58.118
Last login: Wed Nov 15 21:32:53 2017 from bigchina
]0;root@mx-10-49-58-118:~[?1034h[root@mx-10-49-58-118 ~]# date +%s
1510799718
]0;root@mx-10-49-58-118:~[root@mx-10-49-58-118 ~]# 
]0;root@mx-10-49-58-118:~[root@mx-10-49-58-118 ~]# ########## 4 Configure user1 to vacation autoreply mode using expect tool ...
spawn ssh imail2@10.49.58.118
Password: 
Last login: Wed Nov 15 21:34:24 2017 from bigchina
[?1034hmx-10-49-58-118:imail2:Mx9.5:~$ echo 'internal:' >data.txt
mx-10-49-58-118:imail2:Mx9.5:~$ echo 'Reply,This is an autoreply message for internal senders!' >>data.txt
mx-10-49-58-118:imail2:Mx9.5:~$ echo 'external:' >>data.txt
mx-10-49-58-118:imail2:Mx9.5:~$ echo 'Reply,This is an external autoreply message for external senders!' >>data.txt
mx-10-49-58-118:imail2:Mx9.5:~$ autoreplyctrl ar11237@openwave.com reply data.txt none 1510801518
AutoReply data updated Successfully.
mx-10-49-58-118:imail2:Mx9.5:~$ [32m##########4 Congifuration successfully[0m
##########5 delieber 1 message from user1 to user2 ...
########## 6 Check mta.log using expect tool ...
spawn ssh imail2@10.49.58.118
Password: 
Last login: Wed Nov 15 21:35:22 2017 from bigchina
[?1034hmx-10-49-58-118:imail2:Mx9.5:~$ cat log/mta.log
20171115 213526403-0500 mx-10-49-58-118 mta 11909 12630 140545285314304 Note;SmtpConnectionReceived(70/1) [10.37.2.214]:fromhost=10.37.2.214:fromport=54482:localAddr=10.49.58.118:sid=223A4213-F1A104A9-00000044.0
20171115 213526403-0500 mx-10-49-58-118 mta 11909 15360 140545263687424 Note;SmtpConnectionReceived(70/1) [10.37.2.214]:fromhost=10.37.2.214:fromport=54478:localAddr=10.49.58.118:sid=223A4213-F1A104A9-00000042.0
20171115 213526404-0500 mx-10-49-58-118 mta 11909 12633 140545268213504 Note;SmtpConnectionReceived(70/1) [10.37.2.214]:fromhost=10.37.2.214:fromport=54480:localAddr=10.49.58.118:sid=223A4213-F1A104A9-00000046.0
20171115 213526407-0500 mx-10-49-58-118 mta 11909 12631 140545268479744 Note;SmtpConnectionReceived(70/1) [10.37.2.214]:fromhost=10.37.2.214:fromport=54484:localAddr=10.49.58.118:sid=223A4213-F1A104A9-00000048.0
20171115 213528149-0500 mx-10-49-58-118 mta 11909 15360 140545263687424 Note;MsgTrace(65/26) received from internet:from=<ar9429@openwave.com>:msgid=<20171116023527.ACI11909.mx-10-49-58-118.openwave.com@openwave.com>:fromhost=[10.37.2.214]:fromport=54478:localAddr=10.49.58.118:sid=223A4213-F1A104A9-00000042.1:msgsize=444:time=2:sender=<ar9429@openwave.com>:rcpts=<ar11237@openwave.com>:protocol=ESMTP:encoding=plaintext:auth=
20171115 213528149-0500 mx-10-49-58-118 mta 11909 14156 140545263953664 Note;MsgTrace(65/26) docid will be used for message-id:user=ar11237@openwave.com:from=<ar9429@openwave.com>:msgid=<20171116023527.ACI11909.mx-10-49-58-118.openwave.com@openwave.com>:size=554:fromhost=10.37.2.214:fromport=54478:localAddr=[10.49.58.118]:sid=223A4213-F1A104A9-00000042.1
20171115 213528155-0500 mx-10-49-58-118 mta 11909 14152 140545264752384 Note;MsgTrace(65/26) docid will be used for message-id:user=ar11237@openwave.com:from=<ar24755@whsasf.com>:msgid=<20171116023527.ACJ11909.mx-10-49-58-118.openwave.com@whsasf.com>:size=547:fromhost=10.37.2.214:fromport=54484:localAddr=[10.49.58.118]:sid=223A4213-F1A104A9-00000048.1
20171115 213528155-0500 mx-10-49-58-118 mta 11909 12631 140545268479744 Note;MsgTrace(65/26) received from internet:from=<ar24755@whsasf.com>:msgid=<20171116023527.ACJ11909.mx-10-49-58-118.openwave.com@whsasf.com>:fromhost=[10.37.2.214]:fromport=54484:localAddr=10.49.58.118:sid=223A4213-F1A104A9-00000048.1:msgsize=440:time=2:sender=<ar24755@whsasf.com>:rcpts=<ar11237@openwave.com>:protocol=ESMTP:encoding=plaintext:auth=
20171115 213528164-0500 mx-10-49-58-118 mta 11909 12633 140545268213504 Note;MsgTrace(65/26) received from internet:from=<ar24312@whsasf.com>:msgid=<20171116023527.ACK11909.mx-10-49-58-118.openwave.com@whsasf.com>:fromhost=[10.37.2.214]:fromport=54480:localAddr=10.49.58.118:sid=223A4213-F1A104A9-00000046.1:msgsize=440:time=2:sender=<ar24312@whsasf.com>:rcpts=<ar11237@openwave.com>:protocol=ESMTP:encoding=plaintext:auth=
20171115 213528164-0500 mx-10-49-58-118 mta 11909 12638 140545267947264 Note;MsgTrace(65/26) docid will be used for message-id:user=ar11237@openwave.com:from=<ar24312@whsasf.com>:msgid=<20171116023527.ACK11909.mx-10-49-58-118.openwave.com@whsasf.com>:size=547:fromhost=10.37.2.214:fromport=54480:localAddr=[10.49.58.118]:sid=223A4213-F1A104A9-00000046.1
20171115 213528170-0500 mx-10-49-58-118 mta 11909 14154 140545264219904 Note;MsgTrace(65/26) docid will be used for message-id:user=ar11237@openwave.com:from=<ar1186@openwave.com>:msgid=<20171116023527.ACL11909.mx-10-49-58-118.openwave.com@openwave.com>:size=554:fromhost=10.37.2.214:fromport=54482:localAddr=[10.49.58.118]:sid=223A4213-F1A104A9-00000044.1
20171115 213528170-0500 mx-10-49-58-118 mta 11909 12630 140545285314304 Note;MsgTrace(65/26) received from internet:from=<ar1186@openwave.com>:msgid=<20171116023527.ACL11909.mx-10-49-58-118.openwave.com@openwave.com>:fromhost=[10.37.2.214]:fromport=54482:localAddr=10.49.58.118:sid=223A4213-F1A104A9-00000044.1:msgsize=444:time=1:sender=<ar1186@openwave.com>:rcpts=<ar11237@openwave.com>:protocol=ESMTP:encoding=plaintext:auth=
20171115 213528207-0500 mx-10-49-58-118 mta 11909 12641 140545267148544 Note;MsgTrace(65/26) delivered:user=ar11237@openwave.com:mbox=8551108701161849034:mss=mx-10-49-58-119:from=<ar9429@openwave.com>:msgid=<20171116023527.ACI11909.mx-10-49-58-118.openwave.com@openwave.com>:size=554:port=55014:fromhost=10.37.2.214:fromport=54478:localAddr=[10.49.58.118]:sid=223A4213-F1A104A9-00000042.1:docid=cebc4dfc-ca76-11e7-975e-7c1c1789801d:node=mx-10-49-58-119:nodePort=55014
20171115 213528211-0500 mx-10-49-58-118 mta 11909 12647 140545265817344 Note;MsgTrace(65/26) autoreplied:user=ar11237@openwave.com:mbox=8551108701161849034:mss=mx-10-49-58-118:from=<ar9429@openwave.com>:msgid=<20171116023527.ACI11909.mx-10-49-58-118.openwave.com@openwave.com>:size=554:port=55014:fromhost=10.37.2.214:fromport=54478:localAddr=[10.49.58.118]:sid=223A4213-F1A104A9-00000042.1:node=mx-10-49-58-118:nodePort=55014
20171115 213528225-0500 mx-10-49-58-118 mta 11909 14153 140545264486144 Note;MsgTrace(65/26) docid will be used for message-id:user=ar9429@openwave.com:from=<>:msgid=<20171116023528.ACM11909.mx-10-49-58-118.openwave.com@mx-10-49-58-118>:size=465:sid=223A4213-F1A104A9-00000042.1
20171115 213528235-0500 mx-10-49-58-118 mta 11909 12643 140545266616064 Note;MsgTrace(65/26) delivered:user=ar11237@openwave.com:mbox=8551108701161849034:mss=mx-10-49-58-119:from=<ar24755@whsasf.com>:msgid=<20171116023527.ACJ11909.mx-10-49-58-118.openwave.com@whsasf.com>:size=547:port=55014:fromhost=10.37.2.214:fromport=54484:localAddr=[10.49.58.118]:sid=223A4213-F1A104A9-00000048.1:docid=cebd0b66-ca76-11e7-8ef9-9746ab499007:node=mx-10-49-58-119:nodePort=55014
20171115 213528238-0500 mx-10-49-58-118 mta 11909 12651 140545265284864 Note;MsgTrace(65/26) autoreplied:user=ar11237@openwave.com:mbox=8551108701161849034:mss=mx-10-49-58-118:from=<ar24755@whsasf.com>:msgid=<20171116023527.ACJ11909.mx-10-49-58-118.openwave.com@whsasf.com>:size=547:port=55014:fromhost=10.37.2.214:fromport=54484:localAddr=[10.49.58.118]:sid=223A4213-F1A104A9-00000048.1:node=mx-10-49-58-118:nodePort=55014
20171115 213528255-0500 mx-10-49-58-118 mta 11909 14156 140545263953664 Note;MsgTrace(65/26) docid will be used for message-id:user=ar24755@whsasf.com:from=<>:msgid=<20171116023528.ACN11909.mx-10-49-58-118.openwave.com@mx-10-49-58-118>:size=462:sid=223A4213-F1A104A9-00000048.1
20171115 213528267-0500 mx-10-49-58-118 mta 11909 13077 140545265018624 Note;MsgTrace(65/26) delivered:user=ar11237@openwave.com:mbox=8551108701161849034:mss=mx-10-49-58-119:from=<ar24312@whsasf.com>:msgid=<20171116023527.ACK11909.mx-10-49-58-118.openwave.com@whsasf.com>:size=547:port=55014:fromhost=10.37.2.214:fromport=54480:localAddr=[10.49.58.118]:sid=223A4213-F1A104A9-00000046.1:docid=cebe9b0c-ca76-11e7-8b0b-a60ba1e689bb:node=mx-10-49-58-119:nodePort=55014
20171115 213528276-0500 mx-10-49-58-118 mta 11909 12644 140545266349824 Note;MsgTrace(65/26) autoreplied:user=ar11237@openwave.com:mbox=8551108701161849034:mss=mx-10-49-58-118:from=<ar24312@whsasf.com>:msgid=<20171116023527.ACK11909.mx-10-49-58-118.openwave.com@whsasf.com>:size=547:port=55014:fromhost=10.37.2.214:fromport=54480:localAddr=[10.49.58.118]:sid=223A4213-F1A104A9-00000046.1:node=mx-10-49-58-118:nodePort=55014
20171115 213528285-0500 mx-10-49-58-118 mta 11909 12641 140545267148544 Note;MsgTrace(65/26) delivered:user=ar9429@openwave.com:mbox=8111393282088936108:mss=mx-10-49-58-119:from=<>:msgid=<20171116023528.ACM11909.mx-10-49-58-118.openwave.com@mx-10-49-58-118>:size=543:port=55014:fromhost=10.37.2.214:fromport=54478:localAddr=[10.49.58.118]:sid=223A4213-F1A104A9-00000042.1:docid=cec5bc70-ca76-11e7-9451-fccd202b7e0f:node=mx-10-49-58-119:nodePort=55014
20171115 213528295-0500 mx-10-49-58-118 mta 11909 12642 140545266882304 Note;MsgTrace(65/26) delivered:user=ar11237@openwave.com:mbox=8551108701161849034:mss=mx-10-49-58-119:from=<ar1186@openwave.com>:msgid=<20171116023527.ACL11909.mx-10-49-58-118.openwave.com@openwave.com>:size=554:port=55014:fromhost=10.37.2.214:fromport=54482:localAddr=[10.49.58.118]:sid=223A4213-F1A104A9-00000044.1:docid=cebf736a-ca76-11e7-a117-daab6b7c6f9d:node=mx-10-49-58-119:nodePort=55014
20171115 213528295-0500 mx-10-49-58-118 mta 11909 14152 140545264752384 Note;MsgTrace(65/26) docid will be used for message-id:user=ar24312@whsasf.com:from=<>:msgid=<20171116023528.ACO11909.mx-10-49-58-118.openwave.com@mx-10-49-58-118>:size=462:sid=223A4213-F1A104A9-00000046.1
20171115 213528299-0500 mx-10-49-58-118 mta 11909 12649 140545265551104 Note;MsgTrace(65/26) autoreplied:user=ar11237@openwave.com:mbox=8551108701161849034:mss=mx-10-49-58-118:from=<ar1186@openwave.com>:msgid=<20171116023527.ACL11909.mx-10-49-58-118.openwave.com@openwave.com>:size=554:port=55014:fromhost=10.37.2.214:fromport=54482:localAddr=[10.49.58.118]:sid=223A4213-F1A104A9-00000044.1:node=mx-10-49-58-118:nodePort=55014
20171115 213528313-0500 mx-10-49-58-118 mta 11909 12638 140545267947264 Note;MsgTrace(65/26) docid will be used for message-id:user=ar1186@openwave.com:from=<>:msgid=<20171116023528.ACP11909.mx-10-49-58-118.openwave.com@mx-10-49-58-118>:size=465:sid=223A4213-F1A104A9-00000044.1
20171115 213528314-0500 mx-10-49-58-118 mta 11909 12643 140545266616064 Note;MsgTrace(65/26) delivered:user=ar24755@whsasf.com:mbox=7713092850671713624:mss=mx-10-49-58-119:from=<>:msgid=<20171116023528.ACN11909.mx-10-49-58-118.openwave.com@mx-10-49-58-118>:size=549:port=55014:fromhost=10.37.2.214:fromport=54484:localAddr=[10.49.58.118]:sid=223A4213-F1A104A9-00000048.1:docid=cec9e138-ca76-11e7-a041-c7d8037d0341:node=mx-10-49-58-119:nodePort=55014
20171115 213528346-0500 mx-10-49-58-118 mta 11909 12647 140545265817344 Note;MsgTrace(65/26) delivered:user=ar24312@whsasf.com:mbox=7280358497724189110:mss=mx-10-49-58-118:from=<>:msgid=<20171116023528.ACO11909.mx-10-49-58-118.openwave.com@mx-10-49-58-118>:size=549:port=55014:sid=223A4213-F1A104A9-00000046.1:docid=ceceb9a6-ca76-11e7-9446-01f7680c3b3e:node=mx-10-49-58-118:nodePort=55014
20171115 213528355-0500 mx-10-49-58-118 mta 11909 13077 140545265018624 Note;MsgTrace(65/26) delivered:user=ar1186@openwave.com:mbox=4675373552975188583:mss=mx-10-49-58-119:from=<>:msgid=<20171116023528.ACP11909.mx-10-49-58-118.openwave.com@mx-10-49-58-118>:size=543:port=55014:fromhost=10.37.2.214:fromport=54480:localAddr=[10.49.58.118]:sid=223A4213-F1A104A9-00000044.1:docid=ced30484-ca76-11e7-a451-967868a87a27:node=mx-10-49-58-119:nodePort=55014
20171115 213528427-0500 mx-10-49-58-118 mta 11909 15360 140545263687424 Note;SmtpConnectionClosed(70/2) [10.37.2.214]:2:1:198:fromhost=[10.37.2.214]:fromport=54478:localAddr=10.49.58.118:sid=223A4213-F1A104A9-00000042.1
20171115 213528433-0500 mx-10-49-58-118 mta 11909 12631 140545268479744 Note;SmtpConnectionClosed(70/2) [10.37.2.214]:2:1:195:fromhost=[10.37.2.214]:fromport=54484:localAddr=10.49.58.118:sid=223A4213-F1A104A9-00000048.1
20171115 213528443-0500 mx-10-49-58-118 mta 11909 12633 140545268213504 Note;SmtpConnectionClosed(70/2) [10.37.2.214]:2:1:195:fromhost=[10.37.2.214]:fromport=54480:localAddr=10.49.58.118:sid=223A4213-F1A104A9-00000046.1
20171115 213528448-0500 mx-10-49-58-118 mta 11909 12630 140545285314304 Note;SmtpConnectionClosed(70/2) [10.37.2.214]:2:1:198:fromhost=[10.37.2.214]:fromport=54482:localAddr=10.49.58.118:sid=223A4213-F1A104A9-00000044.1
mx-10-49-58-118:imail2:Mx9.5:~$ [32m##########6 Autoreply messaeg delievered successfully!![0m
########## 5 check autoreplied message in inbox of user2,user3,user4,user5 ...
imapmail: host[10.49.58.118] port[20143] user[ar9429] pass[p] folder[inbox] message[2]
xx OK LOGIN completed
* 2 EXISTS
* OK [UNSEEN 1] First unseen message
* OK [UIDVALIDITY 1510799666] UIDs valid
* OK [UIDNEXT 1002] Predicted next UID
* FLAGS (\Answered \Flagged \Deleted \Draft \Seen)
* OK [PERMANENTFLAGS (\* \Answered \Flagged \Deleted \Draft \Seen)] Permanent flags
* 1 RECENT
xx OK [READ-WRITE] SELECT completed
* 2 FETCH (BODY[] {543}
Return-Path: <>
Subject: Re: test message about autoreply feature
To: ar9429@openwave.com
From: "Auto-reply from ar11237@openwave.com" <ar11237@openwave.com>
In-Reply-To: <20171116023527.ACI11909.mx-10-49-58-118.openwave.com@openwave.com>
Precedence: bulk
Date: Wed, 15 Nov 2017 21:35:28 -0500
Message-ID: <20171116023528.ACM11909.mx-10-49-58-118.openwave.com@mx-10-49-58-118>
MIME-Version: 1.0
Content-Type: text/plain;
		charset=UTF-8
Content-Transfer-Encoding: 7bit


Reply,This is an autoreply message for internal senders!
 FLAGS (\Recent \Seen))
xx OK FETCH completed
* BYE IMAP4 server terminating connection
xx OK LOGOUT completed
imapmail: host[10.49.58.118] port[20143] user[ar1186] pass[p] folder[inbox] message[2]
xx OK LOGIN completed
* 2 EXISTS
* OK [UNSEEN 1] First unseen message
* OK [UIDVALIDITY 1510799667] UIDs valid
* OK [UIDNEXT 1002] Predicted next UID
* FLAGS (\Answered \Flagged \Deleted \Draft \Seen)
* OK [PERMANENTFLAGS (\* \Answered \Flagged \Deleted \Draft \Seen)] Permanent flags
* 1 RECENT
xx OK [READ-WRITE] SELECT completed
* 2 FETCH (BODY[] {543}
Return-Path: <>
Subject: Re: test message about autoreply feature
To: ar1186@openwave.com
From: "Auto-reply from ar11237@openwave.com" <ar11237@openwave.com>
In-Reply-To: <20171116023527.ACL11909.mx-10-49-58-118.openwave.com@openwave.com>
Precedence: bulk
Date: Wed, 15 Nov 2017 21:35:28 -0500
Message-ID: <20171116023528.ACP11909.mx-10-49-58-118.openwave.com@mx-10-49-58-118>
MIME-Version: 1.0
Content-Type: text/plain;
		charset=UTF-8
Content-Transfer-Encoding: 7bit


Reply,This is an autoreply message for internal senders!
 FLAGS (\Recent \Seen))
xx OK FETCH completed
* BYE IMAP4 server terminating connection
xx OK LOGOUT completed
imapmail: host[10.49.58.118] port[20143] user[ar24312] pass[p] folder[inbox] message[2]
xx OK LOGIN completed
* 2 EXISTS
* OK [UNSEEN 1] First unseen message
* OK [UIDVALIDITY 1510799520] UIDs valid
* OK [UIDNEXT 1002] Predicted next UID
* FLAGS (\Answered \Flagged \Deleted \Draft \Seen)
* OK [PERMANENTFLAGS (\* \Answered \Flagged \Deleted \Draft \Seen)] Permanent flags
* 1 RECENT
xx OK [READ-WRITE] SELECT completed
* 2 FETCH (BODY[] {549}
Return-Path: <>
Subject: Re: test message about autoreply feature
To: ar24312@whsasf.com
From: "Auto-reply from ar11237@openwave.com" <ar11237@openwave.com>
In-Reply-To: <20171116023527.ACK11909.mx-10-49-58-118.openwave.com@whsasf.com>
Precedence: bulk
Date: Wed, 15 Nov 2017 21:35:28 -0500
Message-ID: <20171116023528.ACO11909.mx-10-49-58-118.openwave.com@mx-10-49-58-118>
MIME-Version: 1.0
Content-Type: text/plain;
		charset=UTF-8
Content-Transfer-Encoding: 7bit


Reply,This is an external autoreply message for external senders!
 FLAGS (\Recent \Seen))
xx OK FETCH completed
* BYE IMAP4 server terminating connection
xx OK LOGOUT completed
imapmail: host[10.49.58.118] port[20143] user[ar24755] pass[p] folder[inbox] message[2]
xx OK LOGIN completed
* 2 EXISTS
* OK [UNSEEN 1] First unseen message
* OK [UIDVALIDITY 1510799669] UIDs valid
* OK [UIDNEXT 1002] Predicted next UID
* FLAGS (\Answered \Flagged \Deleted \Draft \Seen)
* OK [PERMANENTFLAGS (\* \Answered \Flagged \Deleted \Draft \Seen)] Permanent flags
* 1 RECENT
xx OK [READ-WRITE] SELECT completed
* 2 FETCH (BODY[] {549}
Return-Path: <>
Subject: Re: test message about autoreply feature
To: ar24755@whsasf.com
From: "Auto-reply from ar11237@openwave.com" <ar11237@openwave.com>
In-Reply-To: <20171116023527.ACJ11909.mx-10-49-58-118.openwave.com@whsasf.com>
Precedence: bulk
Date: Wed, 15 Nov 2017 21:35:28 -0500
Message-ID: <20171116023528.ACN11909.mx-10-49-58-118.openwave.com@mx-10-49-58-118>
MIME-Version: 1.0
Content-Type: text/plain;
		charset=UTF-8
Content-Transfer-Encoding: 7bit


Reply,This is an external autoreply message for external senders!
 FLAGS (\Recent \Seen))
xx OK FETCH completed
* BYE IMAP4 server terminating connection
xx OK LOGOUT completed
[32m##########7 Check autoreplied messaege successfully!![0m
TESTPASSED: /home/ram/workspace/bohem/Automation/multiple-messages-simultaneously-for-in-and-out-domains-senders/Deliever-message-before-AutoReplyStopDate-when-only-it-set/mx-10288-10304: AutoReply in reply mode with message delievered before stop date for hybrid sender test success! (92 sec.)
##########  doing some clear job ...
[32m##########  Accont deleted successfully[0m
PASSED: /home/ram/workspace/bohem/Automation/multiple-messages-simultaneously-for-in-and-out-domains-senders/Deliever-message-before-AutoReplyStopDate-when-only-it-set/mx-10288-10304 [20171116-103634] (101 sec.) 188
Test ended: Thu Nov 16 10:38:15 CST 2017

