	**********  Starting /home/ram/workspace/bohem/Automation/multiple-messages-simultaneously-for-in-and-out-domains-senders/Deliever-message-between-AutoReplyStart-and-StopDate-when-both-sets/mx-10291-10307  **********
Test started: Thu Nov 16 14:38:48 CST 2017
########## 1 Clear mta.log using expect tool ...
spawn ssh imail2@10.49.58.118
Password: 
Last login: Thu Nov 16 01:36:02 2017 from bigchina
[?1034hmx-10-49-58-118:imail2:Mx9.5:~$ > ~/log/mta.log
########## 2 Accounts provision ...
8090179550528147327
4943134087424704768
7004989919734511434
8853136933054713708
8694279019094747796
[32m########## 2 Accont provision successfully, we can continue now[0m
spawn ssh root@10.49.58.118
Last login: Thu Nov 16 01:34:27 2017 from bigchina
]0;root@mx-10-49-58-118:~[?1034h[root@mx-10-49-58-118 ~]# date +%s
1510814240
]0;root@mx-10-49-58-118:~[root@mx-10-49-58-118 ~]# 
]0;root@mx-10-49-58-118:~[root@mx-10-49-58-118 ~]# ########## 4 Configure user1 to vacation autoreply mode using expect tool ...
spawn ssh imail2@10.49.58.118
Password: 
Last login: Thu Nov 16 01:36:25 2017 from bigchina
[?1034hmx-10-49-58-118:imail2:Mx9.5:~$ echo 'internal:' >data.txt
mx-10-49-58-118:imail2:Mx9.5:~$ echo 'Reply,This is an autoreply message for internal senders!' >>data.txt
mx-10-49-58-118:imail2:Mx9.5:~$ echo 'external:' >>data.txt
mx-10-49-58-118:imail2:Mx9.5:~$ echo 'Reply,This is an external autoreply message for external senders!' >>data.txt
mx-10-49-58-118:imail2:Mx9.5:~$ autoreplyctrl ar17394@openwave.com reply data.txt 1510814245 1510816040
AutoReply data updated Successfully.
mx-10-49-58-118:imail2:Mx9.5:~$ [32m##########4 Congifuration successfully[0m
##########4 delieber 1 message from user2,user3,user4,user5 to user1 ...
########## 6 Check mta.log using expect tool ...
spawn ssh imail2@10.49.58.118
Password: 
Last login: Thu Nov 16 01:37:44 2017 from bigchina
[?1034hmx-10-49-58-118:imail2:Mx9.5:~$ cat log/mta.log
20171116 013748885-0500 mx-10-49-58-118 mta 31271 834 139635685795584 Note;SmtpConnectionReceived(70/1) [10.37.2.214]:fromhost=10.37.2.214:fromport=34260:localAddr=10.49.58.118:sid=E1F61E3A-391D3265-00000042.0
20171116 013748895-0500 mx-10-49-58-118 mta 31271 833 139635686061824 Note;SmtpConnectionReceived(70/1) [10.37.2.214]:fromhost=10.37.2.214:fromport=34262:localAddr=10.49.58.118:sid=E1F61E3A-391D3265-00000044.0
20171116 013748900-0500 mx-10-49-58-118 mta 31271 32298 139635704760064 Note;SmtpConnectionReceived(70/1) [10.37.2.214]:fromhost=10.37.2.214:fromport=34264:localAddr=10.49.58.118:sid=E1F61E3A-391D3265-00000046.0
20171116 013748901-0500 mx-10-49-58-118 mta 31271 835 139635685529344 Note;SmtpConnectionReceived(70/1) [10.37.2.214]:fromhost=10.37.2.214:fromport=34266:localAddr=10.49.58.118:sid=E1F61E3A-391D3265-00000048.0
20171116 013750627-0500 mx-10-49-58-118 mta 31271 834 139635685795584 Note;MsgTrace(65/26) received from internet:from=<ar11469@whsasf.com>:msgid=<20171116063750.ACH31271.mx-10-49-58-118.openwave.com@whsasf.com>:fromhost=[10.37.2.214]:fromport=34260:localAddr=10.49.58.118:sid=E1F61E3A-391D3265-00000042.1:msgsize=440:time=1:sender=<ar11469@whsasf.com>:rcpts=<ar17394@openwave.com>:protocol=ESMTP:encoding=plaintext:auth=
20171116 013750627-0500 mx-10-49-58-118 mta 31271 843 139635684730624 Note;MsgTrace(65/26) docid will be used for message-id:user=ar17394@openwave.com:from=<ar11469@whsasf.com>:msgid=<20171116063750.ACH31271.mx-10-49-58-118.openwave.com@whsasf.com>:size=547:fromhost=10.37.2.214:fromport=34260:localAddr=[10.49.58.118]:sid=E1F61E3A-391D3265-00000042.1
20171116 013750633-0500 mx-10-49-58-118 mta 31271 833 139635686061824 Note;MsgTrace(65/26) received from internet:from=<ar6587@whsasf.com>:msgid=<20171116063750.ACI31271.mx-10-49-58-118.openwave.com@whsasf.com>:fromhost=[10.37.2.214]:fromport=34262:localAddr=10.49.58.118:sid=E1F61E3A-391D3265-00000044.1:msgsize=440:time=1:sender=<ar6587@whsasf.com>:rcpts=<ar17394@openwave.com>:protocol=ESMTP:encoding=plaintext:auth=
20171116 013750633-0500 mx-10-49-58-118 mta 31271 32303 139635687925504 Note;MsgTrace(65/26) docid will be used for message-id:user=ar17394@openwave.com:from=<ar6587@whsasf.com>:msgid=<20171116063750.ACI31271.mx-10-49-58-118.openwave.com@whsasf.com>:size=546:fromhost=10.37.2.214:fromport=34262:localAddr=[10.49.58.118]:sid=E1F61E3A-391D3265-00000044.1
20171116 013750643-0500 mx-10-49-58-118 mta 31271 844 139635684464384 Note;MsgTrace(65/26) docid will be used for message-id:user=ar17394@openwave.com:from=<ar25849@openwave.com>:msgid=<20171116063750.ACJ31271.mx-10-49-58-118.openwave.com@openwave.com>:size=555:fromhost=10.37.2.214:fromport=34264:localAddr=[10.49.58.118]:sid=E1F61E3A-391D3265-00000046.1
20171116 013750644-0500 mx-10-49-58-118 mta 31271 32298 139635704760064 Note;MsgTrace(65/26) received from internet:from=<ar25849@openwave.com>:msgid=<20171116063750.ACJ31271.mx-10-49-58-118.openwave.com@openwave.com>:fromhost=[10.37.2.214]:fromport=34264:localAddr=10.49.58.118:sid=E1F61E3A-391D3265-00000046.1:msgsize=444:time=1:sender=<ar25849@openwave.com>:rcpts=<ar17394@openwave.com>:protocol=ESMTP:encoding=plaintext:auth=
20171116 013750645-0500 mx-10-49-58-118 mta 31271 835 139635685529344 Note;MsgTrace(65/26) received from internet:from=<ar5494@openwave.com>:msgid=<20171116063750.ACK31271.mx-10-49-58-118.openwave.com@openwave.com>:fromhost=[10.37.2.214]:fromport=34266:localAddr=10.49.58.118:sid=E1F61E3A-391D3265-00000048.1:msgsize=444:time=1:sender=<ar5494@openwave.com>:rcpts=<ar17394@openwave.com>:protocol=ESMTP:encoding=plaintext:auth=
20171116 013750645-0500 mx-10-49-58-118 mta 31271 843 139635684730624 Note;MsgTrace(65/26) docid will be used for message-id:user=ar17394@openwave.com:from=<ar5494@openwave.com>:msgid=<20171116063750.ACK31271.mx-10-49-58-118.openwave.com@openwave.com>:size=554:fromhost=10.37.2.214:fromport=34266:localAddr=[10.49.58.118]:sid=E1F61E3A-391D3265-00000048.1
20171116 013750673-0500 mx-10-49-58-118 mta 31271 842 139635684996864 Note;MsgTrace(65/26) delivered:user=ar17394@openwave.com:mbox=8090179550528147327:mss=mx-10-49-58-119:from=<ar11469@whsasf.com>:msgid=<20171116063750.ACH31271.mx-10-49-58-118.openwave.com@whsasf.com>:size=582:port=55014:fromhost=10.37.2.214:fromport=34260:localAddr=[10.49.58.118]:sid=E1F61E3A-391D3265-00000042.1:docid=aaba4f86-ca98-11e7-9d50-3c4a303ce871:node=mx-10-49-58-119:nodePort=55014
20171116 013750680-0500 mx-10-49-58-118 mta 31271 842 139635684996864 Note;MsgTrace(65/26) autoreplied:user=ar17394@openwave.com:mbox=8090179550528147327:mss=mx-10-49-58-119:from=<ar11469@whsasf.com>:msgid=<20171116063750.ACH31271.mx-10-49-58-118.openwave.com@whsasf.com>:size=547:port=55014:fromhost=10.37.2.214:fromport=34260:localAddr=[10.49.58.118]:sid=E1F61E3A-391D3265-00000042.1:node=mx-10-49-58-119:nodePort=55014
20171116 013750697-0500 mx-10-49-58-118 mta 31271 32303 139635687925504 Note;MsgTrace(65/26) docid will be used for message-id:user=ar11469@whsasf.com:from=<>:msgid=<20171116063750.ACL31271.mx-10-49-58-118.openwave.com@mx-10-49-58-118>:size=462:sid=E1F61E3A-391D3265-00000042.1
20171116 013750704-0500 mx-10-49-58-118 mta 31271 841 139635685263104 Note;MsgTrace(65/26) delivered:user=ar17394@openwave.com:mbox=8090179550528147327:mss=mx-10-49-58-119:from=<ar5494@openwave.com>:msgid=<20171116063750.ACK31271.mx-10-49-58-118.openwave.com@openwave.com>:size=590:port=55014:fromhost=10.37.2.214:fromport=34266:localAddr=[10.49.58.118]:sid=E1F61E3A-391D3265-00000048.1:docid=aabd206c-ca98-11e7-998e-39f2ab09afe5:node=mx-10-49-58-119:nodePort=55014
20171116 013750709-0500 mx-10-49-58-118 mta 31271 841 139635685263104 Note;MsgTrace(65/26) autoreplied:user=ar17394@openwave.com:mbox=8090179550528147327:mss=mx-10-49-58-119:from=<ar5494@openwave.com>:msgid=<20171116063750.ACK31271.mx-10-49-58-118.openwave.com@openwave.com>:size=554:port=55014:fromhost=10.37.2.214:fromport=34266:localAddr=[10.49.58.118]:sid=E1F61E3A-391D3265-00000048.1:node=mx-10-49-58-119:nodePort=55014
20171116 013750728-0500 mx-10-49-58-118 mta 31271 32716 139635686328064 Note;MsgTrace(65/26) delivered:user=ar17394@openwave.com:mbox=8090179550528147327:mss=mx-10-49-58-119:from=<ar6587@whsasf.com>:msgid=<20171116063750.ACI31271.mx-10-49-58-118.openwave.com@whsasf.com>:size=580:port=55014:fromhost=10.37.2.214:fromport=34262:localAddr=[10.49.58.118]:sid=E1F61E3A-391D3265-00000044.1:docid=aabb60c4-ca98-11e7-9642-b85a89c5dcd0:node=mx-10-49-58-119:nodePort=55014
20171116 013750732-0500 mx-10-49-58-118 mta 31271 32716 139635686328064 Note;MsgTrace(65/26) autoreplied:user=ar17394@openwave.com:mbox=8090179550528147327:mss=mx-10-49-58-119:from=<ar6587@whsasf.com>:msgid=<20171116063750.ACI31271.mx-10-49-58-118.openwave.com@whsasf.com>:size=546:port=55014:fromhost=10.37.2.214:fromport=34262:localAddr=[10.49.58.118]:sid=E1F61E3A-391D3265-00000044.1:node=mx-10-49-58-119:nodePort=55014
20171116 013750745-0500 mx-10-49-58-118 mta 31271 843 139635684730624 Note;MsgTrace(65/26) docid will be used for message-id:user=ar6587@whsasf.com:from=<>:msgid=<20171116063750.ACN31271.mx-10-49-58-118.openwave.com@mx-10-49-58-118>:size=461:sid=E1F61E3A-391D3265-00000044.1
20171116 013750746-0500 mx-10-49-58-118 mta 31271 844 139635684464384 Note;MsgTrace(65/26) docid will be used for message-id:user=ar5494@openwave.com:from=<>:msgid=<20171116063750.ACM31271.mx-10-49-58-118.openwave.com@mx-10-49-58-118>:size=465:sid=E1F61E3A-391D3265-00000048.1
20171116 013750749-0500 mx-10-49-58-118 mta 31271 32312 139635686594304 Note;MsgTrace(65/26) delivered:user=ar17394@openwave.com:mbox=8090179550528147327:mss=mx-10-49-58-119:from=<ar25849@openwave.com>:msgid=<20171116063750.ACJ31271.mx-10-49-58-118.openwave.com@openwave.com>:size=592:port=55014:fromhost=10.37.2.214:fromport=34264:localAddr=[10.49.58.118]:sid=E1F61E3A-391D3265-00000046.1:docid=aabcbf14-ca98-11e7-b8f0-c2426a4a8032:node=mx-10-49-58-119:nodePort=55014
20171116 013750751-0500 mx-10-49-58-118 mta 31271 1249 139635683665664 Note;MsgTrace(65/26) delivered:user=ar11469@whsasf.com:mbox=8853136933054713708:mss=mx-10-49-58-118:from=<>:msgid=<20171116063750.ACL31271.mx-10-49-58-118.openwave.com@mx-10-49-58-118>:size=549:port=55014:sid=E1F61E3A-391D3265-00000042.1:docid=aac21a68-ca98-11e7-bcbd-1cf703dbf152:node=mx-10-49-58-118:nodePort=55014
20171116 013750753-0500 mx-10-49-58-118 mta 31271 32312 139635686594304 Note;MsgTrace(65/26) autoreplied:user=ar17394@openwave.com:mbox=8090179550528147327:mss=mx-10-49-58-119:from=<ar25849@openwave.com>:msgid=<20171116063750.ACJ31271.mx-10-49-58-118.openwave.com@openwave.com>:size=555:port=55014:fromhost=10.37.2.214:fromport=34264:localAddr=[10.49.58.118]:sid=E1F61E3A-391D3265-00000046.1:node=mx-10-49-58-119:nodePort=55014
20171116 013750769-0500 mx-10-49-58-118 mta 31271 32303 139635687925504 Note;MsgTrace(65/26) docid will be used for message-id:user=ar25849@openwave.com:from=<>:msgid=<20171116063750.ACO31271.mx-10-49-58-118.openwave.com@mx-10-49-58-118>:size=466:sid=E1F61E3A-391D3265-00000046.1
20171116 013750790-0500 mx-10-49-58-118 mta 31271 32309 139635687126784 Note;MsgTrace(65/26) delivered:user=ar6587@whsasf.com:mbox=8694279019094747796:mss=mx-10-49-58-118:from=<>:msgid=<20171116063750.ACN31271.mx-10-49-58-118.openwave.com@mx-10-49-58-118>:size=548:port=55014:sid=E1F61E3A-391D3265-00000044.1:docid=aaca7a32-ca98-11e7-a611-62aff3de4866:node=mx-10-49-58-118:nodePort=55014
20171116 013750790-0500 mx-10-49-58-118 mta 31271 1871 139635683399424 Note;MsgTrace(65/26) delivered:user=ar5494@openwave.com:mbox=7004989919734511434:mss=mx-10-49-58-118:from=<>:msgid=<20171116063750.ACM31271.mx-10-49-58-118.openwave.com@mx-10-49-58-118>:size=543:port=55014:sid=E1F61E3A-391D3265-00000048.1:docid=aac6e566-ca98-11e7-9357-d870e037c882:node=mx-10-49-58-118:nodePort=55014
20171116 013750811-0500 mx-10-49-58-118 mta 31271 841 139635685263104 Note;MsgTrace(65/26) delivered:user=ar25849@openwave.com:mbox=4943134087424704768:mss=mx-10-49-58-119:from=<>:msgid=<20171116063750.ACO31271.mx-10-49-58-118.openwave.com@mx-10-49-58-118>:size=544:port=55014:sid=E1F61E3A-391D3265-00000046.1:docid=aacda5b8-ca98-11e7-b47b-afe822e2c5c2:node=mx-10-49-58-119:nodePort=55014
20171116 013750904-0500 mx-10-49-58-118 mta 31271 834 139635685795584 Note;SmtpConnectionClosed(70/2) [10.37.2.214]:2:1:195:fromhost=[10.37.2.214]:fromport=34260:localAddr=10.49.58.118:sid=E1F61E3A-391D3265-00000042.1
20171116 013750912-0500 mx-10-49-58-118 mta 31271 833 139635686061824 Note;SmtpConnectionClosed(70/2) [10.37.2.214]:2:1:194:fromhost=[10.37.2.214]:fromport=34262:localAddr=10.49.58.118:sid=E1F61E3A-391D3265-00000044.1
20171116 013750921-0500 mx-10-49-58-118 mta 31271 32298 139635704760064 Note;SmtpConnectionClosed(70/2) [10.37.2.214]:2:1:199:fromhost=[10.37.2.214]:fromport=34264:localAddr=10.49.58.118:sid=E1F61E3A-391D3265-00000046.1
20171116 013750924-0500 mx-10-49-58-118 mta 31271 835 139635685529344 Note;SmtpConnectionClosed(70/2) [10.37.2.214]:2:1:198:fromhost=[10.37.2.214]:fromport=34266:localAddr=10.49.58.118:sid=E1F61E3A-391D3265-00000048.1
mx-10-49-58-118:imail2:Mx9.5:~$ [32m##########6 Autoreply messaeg delievered successfully!![0m
########## 7 check autoreplied message in inbox of user2,user3,user4,user5 ...
imapmail: host[10.49.58.118] port[20143] user[ar25849] pass[p] folder[inbox] message[2]
xx OK LOGIN completed
* 2 EXISTS
* OK [UNSEEN 1] First unseen message
* OK [UIDVALIDITY 1510814039] UIDs valid
* OK [UIDNEXT 1002] Predicted next UID
* FLAGS (\Answered \Flagged \Deleted \Draft \Seen)
* OK [PERMANENTFLAGS (\* \Answered \Flagged \Deleted \Draft \Seen)] Permanent flags
* 1 RECENT
xx OK [READ-WRITE] SELECT completed
* 2 FETCH (BODY[] {544}
Return-Path: <>
Subject: Re: test message about autoreply feature
To: ar25849@openwave.com
From: "Auto-reply from ar17394@openwave.com" <ar17394@openwave.com>
In-Reply-To: <20171116063750.ACJ31271.mx-10-49-58-118.openwave.com@openwave.com>
Precedence: bulk
Date: Thu, 16 Nov 2017 01:37:50 -0500
Message-ID: <20171116063750.ACO31271.mx-10-49-58-118.openwave.com@mx-10-49-58-118>
MIME-Version: 1.0
Content-Type: text/plain;
		charset=UTF-8
Content-Transfer-Encoding: 7bit


Reply,This is an autoreply message for internal senders!
 FLAGS (\Recent \Seen))
xx OK FETCH completed
* BYE IMAP4 server terminating connection
xx OK LOGOUT completed
imapmail: host[10.49.58.118] port[20143] user[ar5494] pass[p] folder[inbox] message[2]
xx OK LOGIN completed
* 2 EXISTS
* OK [UNSEEN 1] First unseen message
* OK [UIDVALIDITY 1510814189] UIDs valid
* OK [UIDNEXT 1002] Predicted next UID
* FLAGS (\Answered \Flagged \Deleted \Draft \Seen)
* OK [PERMANENTFLAGS (\* \Answered \Flagged \Deleted \Draft \Seen)] Permanent flags
* 1 RECENT
xx OK [READ-WRITE] SELECT completed
* 2 FETCH (BODY[] {543}
Return-Path: <>
Subject: Re: test message about autoreply feature
To: ar5494@openwave.com
From: "Auto-reply from ar17394@openwave.com" <ar17394@openwave.com>
In-Reply-To: <20171116063750.ACK31271.mx-10-49-58-118.openwave.com@openwave.com>
Precedence: bulk
Date: Thu, 16 Nov 2017 01:37:50 -0500
Message-ID: <20171116063750.ACM31271.mx-10-49-58-118.openwave.com@mx-10-49-58-118>
MIME-Version: 1.0
Content-Type: text/plain;
		charset=UTF-8
Content-Transfer-Encoding: 7bit


Reply,This is an autoreply message for internal senders!
 FLAGS (\Recent \Seen))
xx OK FETCH completed
* BYE IMAP4 server terminating connection
xx OK LOGOUT completed
imapmail: host[10.49.58.118] port[20143] user[ar11469] pass[p] folder[inbox] message[2]
xx OK LOGIN completed
* 2 EXISTS
* OK [UNSEEN 1] First unseen message
* OK [UIDVALIDITY 1510814190] UIDs valid
* OK [UIDNEXT 1002] Predicted next UID
* FLAGS (\Answered \Flagged \Deleted \Draft \Seen)
* OK [PERMANENTFLAGS (\* \Answered \Flagged \Deleted \Draft \Seen)] Permanent flags
* 1 RECENT
xx OK [READ-WRITE] SELECT completed
* 2 FETCH (BODY[] {549}
Return-Path: <>
Subject: Re: test message about autoreply feature
To: ar11469@whsasf.com
From: "Auto-reply from ar17394@openwave.com" <ar17394@openwave.com>
In-Reply-To: <20171116063750.ACH31271.mx-10-49-58-118.openwave.com@whsasf.com>
Precedence: bulk
Date: Thu, 16 Nov 2017 01:37:50 -0500
Message-ID: <20171116063750.ACL31271.mx-10-49-58-118.openwave.com@mx-10-49-58-118>
MIME-Version: 1.0
Content-Type: text/plain;
		charset=UTF-8
Content-Transfer-Encoding: 7bit


Reply,This is an external autoreply message for external senders!
 FLAGS (\Recent \Seen))
xx OK FETCH completed
* BYE IMAP4 server terminating connection
xx OK LOGOUT completed
imapmail: host[10.49.58.118] port[20143] user[ar6587] pass[p] folder[inbox] message[2]
xx OK LOGIN completed
* 2 EXISTS
* OK [UNSEEN 1] First unseen message
* OK [UIDVALIDITY 1510814190] UIDs valid
* OK [UIDNEXT 1002] Predicted next UID
* FLAGS (\Answered \Flagged \Deleted \Draft \Seen)
* OK [PERMANENTFLAGS (\* \Answered \Flagged \Deleted \Draft \Seen)] Permanent flags
* 1 RECENT
xx OK [READ-WRITE] SELECT completed
* 2 FETCH (BODY[] {548}
Return-Path: <>
Subject: Re: test message about autoreply feature
To: ar6587@whsasf.com
From: "Auto-reply from ar17394@openwave.com" <ar17394@openwave.com>
In-Reply-To: <20171116063750.ACI31271.mx-10-49-58-118.openwave.com@whsasf.com>
Precedence: bulk
Date: Thu, 16 Nov 2017 01:37:50 -0500
Message-ID: <20171116063750.ACN31271.mx-10-49-58-118.openwave.com@mx-10-49-58-118>
MIME-Version: 1.0
Content-Type: text/plain;
		charset=UTF-8
Content-Transfer-Encoding: 7bit


Reply,This is an external autoreply message for external senders!
 FLAGS (\Recent \Seen))
xx OK FETCH completed
* BYE IMAP4 server terminating connection
xx OK LOGOUT completed
[32m##########7 Check autoreplied messaege successfully!![0m
TESTPASSED: /home/ram/workspace/bohem/Automation/multiple-messages-simultaneously-for-in-and-out-domains-senders/Deliever-message-between-AutoReplyStart-and-StopDate-when-both-sets/mx-10291-10307: AutoReply in reply mode with message delievered between start/stop date for hybird sender test success! (102 sec.)
##########  doing some clear job ...
[32m##########  Accont deleted successfully[0m
PASSED: /home/ram/workspace/bohem/Automation/multiple-messages-simultaneously-for-in-and-out-domains-senders/Deliever-message-between-AutoReplyStart-and-StopDate-when-both-sets/mx-10291-10307 [20171116-143848] (109 sec.) 138
Test ended: Thu Nov 16 14:40:37 CST 2017

