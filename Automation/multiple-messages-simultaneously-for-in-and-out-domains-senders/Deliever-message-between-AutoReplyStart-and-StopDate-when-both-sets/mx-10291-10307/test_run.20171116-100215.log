	**********  Starting /home/ram/workspace/bohem/Automation/multiple-messages-simultaneously-for-in-and-out-domains-senders/Deliever-message-between-AutoReplyStart-and-StopDate-when-both-sets/mx-10291-10307  **********
Test started: Thu Nov 16 10:02:15 CST 2017
########## 1 Clear mta.log using expect tool ...
spawn ssh imail2@10.49.58.118
Password: 
Last login: Wed Nov 15 20:59:33 2017 from bigchina
[?1034hmx-10-49-58-118:imail2:Mx9.5:~$ > ~/log/mta.log
mx-10-49-58-118:imail2:Mx9.5:~$ ########## 2 Accounts provision ...
6777083950430698662
5827457955871170937
5777715730476596132
8133183181320507206
8819731008210712136
[32m########## 2 Accont provision successfully, we can continue now[0m
spawn ssh root@10.49.58.118
Last login: Wed Nov 15 20:58:16 2017 from bigchina
]0;root@mx-10-49-58-118:~[?1034h[root@mx-10-49-58-118 ~]# date +%s
1510797655
]0;root@mx-10-49-58-118:~[root@mx-10-49-58-118 ~]# 
]0;root@mx-10-49-58-118:~[root@mx-10-49-58-118 ~]# ########## 4 Configure user1 to vacation autoreply mode using expect tool ...
spawn ssh imail2@10.49.58.118
Password: 
Last login: Wed Nov 15 20:59:59 2017 from bigchina
[?1034hmx-10-49-58-118:imail2:Mx9.5:~$ echo 'internal:' >data.txt
mx-10-49-58-118:imail2:Mx9.5:~$ echo 'Reply,This is an autoreply message for internal senders!' >>data.txt
mx-10-49-58-118:imail2:Mx9.5:~$ echo 'external:' >>data.txt
mx-10-49-58-118:imail2:Mx9.5:~$ echo 'Reply,This is an external autoreply message for external senders!' >>data.txt
mx-10-49-58-118:imail2:Mx9.5:~$ autoreplyctrl ar29819@openwave.com reply data.txt 1510797660 1510799455
AutoReply data updated Successfully.
mx-10-49-58-118:imail2:Mx9.5:~$ [32m##########4 Congifuration successfully[0m
##########4 delieber 1 message from user2,user3,user4,user5 to user1 ...
########## 6 Check mta.log using expect tool ...
spawn ssh imail2@10.49.58.118
Password: 
Last login: Wed Nov 15 21:01:04 2017 from bigchina
[?1034hmx-10-49-58-118:imail2:Mx9.5:~$ cat log/mta.log
20171115 210108555-0500 mx-10-49-58-118 mta 2873 5138 140669319345920 Note;SmtpConnectionReceived(70/1) [10.37.2.214]:fromhost=10.37.2.214:fromport=51912:localAddr=10.49.58.118:sid=BD1BA205-A361058B-00000034.0
20171115 210108555-0500 mx-10-49-58-118 mta 2873 3580 140669337511680 Note;SmtpConnectionReceived(70/1) [10.37.2.214]:fromhost=10.37.2.214:fromport=51910:localAddr=10.49.58.118:sid=BD1BA205-A361058B-00000036.0
20171115 210108555-0500 mx-10-49-58-118 mta 2873 5140 140669318813440 Note;SmtpConnectionReceived(70/1) [10.37.2.214]:fromhost=10.37.2.214:fromport=51914:localAddr=10.49.58.118:sid=BD1BA205-A361058B-00000038.0
20171115 210108557-0500 mx-10-49-58-118 mta 2873 5139 140669319079680 Note;SmtpConnectionReceived(70/1) [10.37.2.214]:fromhost=10.37.2.214:fromport=51916:localAddr=10.49.58.118:sid=BD1BA205-A361058B-0000003A.0
20171115 210110323-0500 mx-10-49-58-118 mta 2873 3580 140669337511680 Note;MsgTrace(65/26) received from internet:from=<ar31569@openwave.com>:msgid=<20171116020109.ACI2873.mx-10-49-58-118.openwave.com@openwave.com>:fromhost=[10.37.2.214]:fromport=51910:localAddr=10.49.58.118:sid=BD1BA205-A361058B-00000036.1:msgsize=443:time=1:sender=<ar31569@openwave.com>:rcpts=<ar29819@openwave.com>:protocol=ESMTP:encoding=plaintext:auth=
20171115 210110323-0500 mx-10-49-58-118 mta 2873 3586 140669320677120 Note;MsgTrace(65/26) docid will be used for message-id:user=ar29819@openwave.com:from=<ar31569@openwave.com>:msgid=<20171116020109.ACI2873.mx-10-49-58-118.openwave.com@openwave.com>:size=553:fromhost=10.37.2.214:fromport=51910:localAddr=[10.49.58.118]:sid=BD1BA205-A361058B-00000036.1
20171115 210110324-0500 mx-10-49-58-118 mta 2873 5138 140669319345920 Note;MsgTrace(65/26) received from internet:from=<ar7029@openwave.com>:msgid=<20171116020109.ACJ2873.mx-10-49-58-118.openwave.com@openwave.com>:fromhost=[10.37.2.214]:fromport=51912:localAddr=10.49.58.118:sid=BD1BA205-A361058B-00000034.1:msgsize=443:time=1:sender=<ar7029@openwave.com>:rcpts=<ar29819@openwave.com>:protocol=ESMTP:encoding=plaintext:auth=
20171115 210110325-0500 mx-10-49-58-118 mta 2873 5311 140669316949760 Note;MsgTrace(65/26) docid will be used for message-id:user=ar29819@openwave.com:from=<ar7029@openwave.com>:msgid=<20171116020109.ACJ2873.mx-10-49-58-118.openwave.com@openwave.com>:size=552:fromhost=10.37.2.214:fromport=51912:localAddr=[10.49.58.118]:sid=BD1BA205-A361058B-00000034.1
20171115 210110327-0500 mx-10-49-58-118 mta 2873 5314 140669316151040 Note;MsgTrace(65/26) docid will be used for message-id:user=ar29819@openwave.com:from=<ar6354@whsasf.com>:msgid=<20171116020109.ACK2873.mx-10-49-58-118.openwave.com@whsasf.com>:size=544:fromhost=10.37.2.214:fromport=51914:localAddr=[10.49.58.118]:sid=BD1BA205-A361058B-00000038.1
20171115 210110327-0500 mx-10-49-58-118 mta 2873 5140 140669318813440 Note;MsgTrace(65/26) received from internet:from=<ar6354@whsasf.com>:msgid=<20171116020109.ACK2873.mx-10-49-58-118.openwave.com@whsasf.com>:fromhost=[10.37.2.214]:fromport=51914:localAddr=10.49.58.118:sid=BD1BA205-A361058B-00000038.1:msgsize=439:time=1:sender=<ar6354@whsasf.com>:rcpts=<ar29819@openwave.com>:protocol=ESMTP:encoding=plaintext:auth=
20171115 210110330-0500 mx-10-49-58-118 mta 2873 5139 140669319079680 Note;MsgTrace(65/26) received from internet:from=<ar12557@whsasf.com>:msgid=<20171116020109.ACL2873.mx-10-49-58-118.openwave.com@whsasf.com>:fromhost=[10.37.2.214]:fromport=51916:localAddr=10.49.58.118:sid=BD1BA205-A361058B-0000003A.1:msgsize=439:time=1:sender=<ar12557@whsasf.com>:rcpts=<ar29819@openwave.com>:protocol=ESMTP:encoding=plaintext:auth=
20171115 210110330-0500 mx-10-49-58-118 mta 2873 5149 140669318280960 Note;MsgTrace(65/26) docid will be used for message-id:user=ar29819@openwave.com:from=<ar12557@whsasf.com>:msgid=<20171116020109.ACL2873.mx-10-49-58-118.openwave.com@whsasf.com>:size=545:fromhost=10.37.2.214:fromport=51916:localAddr=[10.49.58.118]:sid=BD1BA205-A361058B-0000003A.1
20171115 210110381-0500 mx-10-49-58-118 mta 2873 5154 140669317216000 Note;MsgTrace(65/26) delivered:user=ar29819@openwave.com:mbox=6777083950430698662:mss=mx-10-49-58-119:from=<ar31569@openwave.com>:msgid=<20171116020109.ACI2873.mx-10-49-58-118.openwave.com@openwave.com>:size=553:port=55014:fromhost=10.37.2.214:fromport=51910:localAddr=[10.49.58.118]:sid=BD1BA205-A361058B-00000036.1:docid=042d04ae-ca72-11e7-a11c-58011a7c0bb1:node=mx-10-49-58-119:nodePort=55014
20171115 210110386-0500 mx-10-49-58-118 mta 2873 5383 140669315884800 Note;MsgTrace(65/26) autoreplied:user=ar29819@openwave.com:mbox=6777083950430698662:mss=mx-10-49-58-118:from=<ar31569@openwave.com>:msgid=<20171116020109.ACI2873.mx-10-49-58-118.openwave.com@openwave.com>:size=553:port=55014:fromhost=10.37.2.214:fromport=51910:localAddr=[10.49.58.118]:sid=BD1BA205-A361058B-00000036.1:node=mx-10-49-58-118:nodePort=55014
20171115 210110402-0500 mx-10-49-58-118 mta 2873 5313 140669316417280 Note;MsgTrace(65/26) docid will be used for message-id:user=ar31569@openwave.com:from=<>:msgid=<20171116020110.ACM2873.mx-10-49-58-118.openwave.com@mx-10-49-58-118>:size=464:sid=BD1BA205-A361058B-00000036.1
20171115 210110411-0500 mx-10-49-58-118 mta 2873 5152 140669317748480 Note;MsgTrace(65/26) delivered:user=ar29819@openwave.com:mbox=6777083950430698662:mss=mx-10-49-58-119:from=<ar7029@openwave.com>:msgid=<20171116020109.ACJ2873.mx-10-49-58-118.openwave.com@openwave.com>:size=552:port=55014:fromhost=10.37.2.214:fromport=51912:localAddr=[10.49.58.118]:sid=BD1BA205-A361058B-00000034.1:docid=042d215a-ca72-11e7-88db-6ddb1a691b0d:node=mx-10-49-58-119:nodePort=55014
20171115 210110415-0500 mx-10-49-58-118 mta 2873 5148 140669318547200 Note;MsgTrace(65/26) autoreplied:user=ar29819@openwave.com:mbox=6777083950430698662:mss=mx-10-49-58-118:from=<ar7029@openwave.com>:msgid=<20171116020109.ACJ2873.mx-10-49-58-118.openwave.com@openwave.com>:size=552:port=55014:fromhost=10.37.2.214:fromport=51912:localAddr=[10.49.58.118]:sid=BD1BA205-A361058B-00000034.1:node=mx-10-49-58-118:nodePort=55014
20171115 210110436-0500 mx-10-49-58-118 mta 2873 5312 140669316683520 Note;MsgTrace(65/26) docid will be used for message-id:user=ar7029@openwave.com:from=<>:msgid=<20171116020110.ACN2873.mx-10-49-58-118.openwave.com@mx-10-49-58-118>:size=463:sid=BD1BA205-A361058B-00000034.1
20171115 210110438-0500 mx-10-49-58-118 mta 2873 5153 140669317482240 Note;MsgTrace(65/26) delivered:user=ar29819@openwave.com:mbox=6777083950430698662:mss=mx-10-49-58-119:from=<ar6354@whsasf.com>:msgid=<20171116020109.ACK2873.mx-10-49-58-118.openwave.com@whsasf.com>:size=544:port=55014:fromhost=10.37.2.214:fromport=51914:localAddr=[10.49.58.118]:sid=BD1BA205-A361058B-00000038.1:docid=042da5da-ca72-11e7-93d6-a32372f49821:node=mx-10-49-58-119:nodePort=55014
20171115 210110443-0500 mx-10-49-58-118 mta 2873 5383 140669315884800 Note;MsgTrace(65/26) autoreplied:user=ar29819@openwave.com:mss=mx-10-49-58-118:from=<ar6354@whsasf.com>:msgid=<20171116020109.ACK2873.mx-10-49-58-118.openwave.com@whsasf.com>:size=544:port=55014:fromhost=10.37.2.214:fromport=51914:localAddr=[10.49.58.118]:sid=BD1BA205-A361058B-00000038.1:node=mx-10-49-58-118:nodePort=55014
20171115 210110447-0500 mx-10-49-58-118 mta 2873 5150 140669318014720 Note;MsgTrace(65/26) delivered:user=ar31569@openwave.com:mbox=5827457955871170937:mss=mx-10-49-58-118:from=<>:msgid=<20171116020110.ACM2873.mx-10-49-58-118.openwave.com@mx-10-49-58-118>:size=542:port=55014:fromhost=10.37.2.214:fromport=51912:localAddr=[10.49.58.118]:sid=BD1BA205-A361058B-00000036.1:docid=04364bb8-ca72-11e7-a9f7-45048d4fa739:node=mx-10-49-58-118:nodePort=55014
20171115 210110457-0500 mx-10-49-58-118 mta 2873 3586 140669320677120 Note;MsgTrace(65/26) docid will be used for message-id:user=ar6354@whsasf.com:from=<>:msgid=<20171116020110.ACO2873.mx-10-49-58-118.openwave.com@mx-10-49-58-118>:size=459:sid=BD1BA205-A361058B-00000038.1
20171115 210110469-0500 mx-10-49-58-118 mta 2873 3589 140669320144640 Note;MsgTrace(65/26) delivered:user=ar29819@openwave.com:mbox=6777083950430698662:mss=mx-10-49-58-119:from=<ar12557@whsasf.com>:msgid=<20171116020109.ACL2873.mx-10-49-58-118.openwave.com@whsasf.com>:size=545:port=55014:fromhost=10.37.2.214:fromport=51916:localAddr=[10.49.58.118]:sid=BD1BA205-A361058B-0000003A.1:docid=042e17ea-ca72-11e7-9f87-af9c8f769f12:node=mx-10-49-58-119:nodePort=55014
20171115 210110473-0500 mx-10-49-58-118 mta 2873 5383 140669315884800 Note;MsgTrace(65/26) autoreplied:user=ar29819@openwave.com:mss=mx-10-49-58-118:from=<ar12557@whsasf.com>:msgid=<20171116020109.ACL2873.mx-10-49-58-118.openwave.com@whsasf.com>:size=545:port=55014:fromhost=10.37.2.214:fromport=51916:localAddr=[10.49.58.118]:sid=BD1BA205-A361058B-0000003A.1:node=mx-10-49-58-118:nodePort=55014
20171115 210110482-0500 mx-10-49-58-118 mta 2873 3590 140669319878400 Note;MsgTrace(65/26) delivered:user=ar7029@openwave.com:mbox=5777715730476596132:mss=mx-10-49-58-118:from=<>:msgid=<20171116020110.ACN2873.mx-10-49-58-118.openwave.com@mx-10-49-58-118>:size=541:port=55014:fromhost=10.37.2.214:fromport=51916:localAddr=[10.49.58.118]:sid=BD1BA205-A361058B-00000034.1:docid=043afaa0-ca72-11e7-b9e9-fd0e5a518664:node=mx-10-49-58-118:nodePort=55014
20171115 210110501-0500 mx-10-49-58-118 mta 2873 5311 140669316949760 Note;MsgTrace(65/26) docid will be used for message-id:user=ar12557@whsasf.com:from=<>:msgid=<20171116020110.ACP2873.mx-10-49-58-118.openwave.com@mx-10-49-58-118>:size=460:sid=BD1BA205-A361058B-0000003A.1
20171115 210110502-0500 mx-10-49-58-118 mta 2873 5148 140669318547200 Note;MsgTrace(65/26) delivered:user=ar6354@whsasf.com:mbox=8133183181320507206:mss=mx-10-49-58-118:from=<>:msgid=<20171116020110.ACO2873.mx-10-49-58-118.openwave.com@mx-10-49-58-118>:size=546:port=55014:sid=BD1BA205-A361058B-00000038.1:docid=043f3a48-ca72-11e7-8f3e-6f7836f388c7:node=mx-10-49-58-118:nodePort=55014
20171115 210110533-0500 mx-10-49-58-118 mta 2873 5150 140669318014720 Note;MsgTrace(65/26) delivered:user=ar12557@whsasf.com:mbox=8819731008210712136:mss=mx-10-49-58-118:from=<>:msgid=<20171116020110.ACP2873.mx-10-49-58-118.openwave.com@mx-10-49-58-118>:size=547:port=55014:sid=BD1BA205-A361058B-0000003A.1:docid=0443b532-ca72-11e7-9b6b-0e5b5d14a959:node=mx-10-49-58-118:nodePort=55014
20171115 210110601-0500 mx-10-49-58-118 mta 2873 3580 140669337511680 Note;SmtpConnectionClosed(70/2) [10.37.2.214]:2:1:199:fromhost=[10.37.2.214]:fromport=51910:localAddr=10.49.58.118:sid=BD1BA205-A361058B-00000036.1
20171115 210110601-0500 mx-10-49-58-118 mta 2873 5138 140669319345920 Note;SmtpConnectionClosed(70/2) [10.37.2.214]:2:1:198:fromhost=[10.37.2.214]:fromport=51912:localAddr=10.49.58.118:sid=BD1BA205-A361058B-00000034.1
20171115 210110605-0500 mx-10-49-58-118 mta 2873 5140 140669318813440 Note;SmtpConnectionClosed(70/2) [10.37.2.214]:2:1:194:fromhost=[10.37.2.214]:fromport=51914:localAddr=10.49.58.118:sid=BD1BA205-A361058B-00000038.1
20171115 210110607-0500 mx-10-49-58-118 mta 2873 5139 140669319079680 Note;SmtpConnectionClosed(70/2) [10.37.2.214]:2:1:195:fromhost=[10.37.2.214]:fromport=51916:localAddr=10.49.58.118:sid=BD1BA205-A361058B-0000003A.1
mx-10-49-58-118:imail2:Mx9.5:~$ [32m##########6 Autoreply messaeg delievered successfully!![0m
########## 7 check autoreplied message in inbox of user2,user3,user4,user5 ...
imapmail: host[10.49.58.118] port[20143] user[ar31569] pass[p] folder[inbox] message[2]
xx OK LOGIN completed
* 2 EXISTS
* OK [UNSEEN 1] First unseen message
* OK [UIDVALIDITY 1510797453] UIDs valid
* OK [UIDNEXT 1002] Predicted next UID
* FLAGS (\Answered \Flagged \Deleted \Draft \Seen)
* OK [PERMANENTFLAGS (\* \Answered \Flagged \Deleted \Draft \Seen)] Permanent flags
* 1 RECENT
xx OK [READ-WRITE] SELECT completed
* 2 FETCH (BODY[] {542}
Return-Path: <>
Subject: Re: test message about autoreply feature
To: ar31569@openwave.com
From: "Auto-reply from ar29819@openwave.com" <ar29819@openwave.com>
In-Reply-To: <20171116020109.ACI2873.mx-10-49-58-118.openwave.com@openwave.com>
Precedence: bulk
Date: Wed, 15 Nov 2017 21:01:10 -0500
Message-ID: <20171116020110.ACM2873.mx-10-49-58-118.openwave.com@mx-10-49-58-118>
MIME-Version: 1.0
Content-Type: text/plain;
		charset=UTF-8
Content-Transfer-Encoding: 7bit


Reply,This is an autoreply message for internal senders!
 FLAGS (\Recent \Seen))
xx OK FETCH completed
* BYE IMAP4 server terminating connection
xx OK LOGOUT completed
imapmail: host[10.49.58.118] port[20143] user[ar7029] pass[p] folder[inbox] message[2]
xx OK LOGIN completed
* 2 EXISTS
* OK [UNSEEN 1] First unseen message
* OK [UIDVALIDITY 1510797454] UIDs valid
* OK [UIDNEXT 1002] Predicted next UID
* FLAGS (\Answered \Flagged \Deleted \Draft \Seen)
* OK [PERMANENTFLAGS (\* \Answered \Flagged \Deleted \Draft \Seen)] Permanent flags
* 1 RECENT
xx OK [READ-WRITE] SELECT completed
* 2 FETCH (BODY[] {541}
Return-Path: <>
Subject: Re: test message about autoreply feature
To: ar7029@openwave.com
From: "Auto-reply from ar29819@openwave.com" <ar29819@openwave.com>
In-Reply-To: <20171116020109.ACJ2873.mx-10-49-58-118.openwave.com@openwave.com>
Precedence: bulk
Date: Wed, 15 Nov 2017 21:01:10 -0500
Message-ID: <20171116020110.ACN2873.mx-10-49-58-118.openwave.com@mx-10-49-58-118>
MIME-Version: 1.0
Content-Type: text/plain;
		charset=UTF-8
Content-Transfer-Encoding: 7bit


Reply,This is an autoreply message for internal senders!
 FLAGS (\Recent \Seen))
xx OK FETCH completed
* BYE IMAP4 server terminating connection
xx OK LOGOUT completed
imapmail: host[10.49.58.118] port[20143] user[ar6354] pass[p] folder[inbox] message[2]
xx OK LOGIN completed
* 2 EXISTS
* OK [UNSEEN 1] First unseen message
* OK [UIDVALIDITY 1510797455] UIDs valid
* OK [UIDNEXT 1002] Predicted next UID
* FLAGS (\Answered \Flagged \Deleted \Draft \Seen)
* OK [PERMANENTFLAGS (\* \Answered \Flagged \Deleted \Draft \Seen)] Permanent flags
* 1 RECENT
xx OK [READ-WRITE] SELECT completed
* 2 FETCH (BODY[] {546}
Return-Path: <>
Subject: Re: test message about autoreply feature
To: ar6354@whsasf.com
From: "Auto-reply from ar29819@openwave.com" <ar29819@openwave.com>
In-Reply-To: <20171116020109.ACK2873.mx-10-49-58-118.openwave.com@whsasf.com>
Precedence: bulk
Date: Wed, 15 Nov 2017 21:01:10 -0500
Message-ID: <20171116020110.ACO2873.mx-10-49-58-118.openwave.com@mx-10-49-58-118>
MIME-Version: 1.0
Content-Type: text/plain;
		charset=UTF-8
Content-Transfer-Encoding: 7bit


Reply,This is an external autoreply message for external senders!
 FLAGS (\Recent \Seen))
xx OK FETCH completed
* BYE IMAP4 server terminating connection
xx OK LOGOUT completed
imapmail: host[10.49.58.118] port[20143] user[ar12557] pass[p] folder[inbox] message[2]
xx OK LOGIN completed
* 2 EXISTS
* OK [UNSEEN 1] First unseen message
* OK [UIDVALIDITY 1510797456] UIDs valid
* OK [UIDNEXT 1002] Predicted next UID
* FLAGS (\Answered \Flagged \Deleted \Draft \Seen)
* OK [PERMANENTFLAGS (\* \Answered \Flagged \Deleted \Draft \Seen)] Permanent flags
* 1 RECENT
xx OK [READ-WRITE] SELECT completed
* 2 FETCH (BODY[] {547}
Return-Path: <>
Subject: Re: test message about autoreply feature
To: ar12557@whsasf.com
From: "Auto-reply from ar29819@openwave.com" <ar29819@openwave.com>
In-Reply-To: <20171116020109.ACL2873.mx-10-49-58-118.openwave.com@whsasf.com>
Precedence: bulk
Date: Wed, 15 Nov 2017 21:01:10 -0500
Message-ID: <20171116020110.ACP2873.mx-10-49-58-118.openwave.com@mx-10-49-58-118>
MIME-Version: 1.0
Content-Type: text/plain;
		charset=UTF-8
Content-Transfer-Encoding: 7bit


Reply,This is an external autoreply message for external senders!
 FLAGS (\Recent \Seen))
xx OK FETCH completed
* BYE IMAP4 server terminating connection
xx OK LOGOUT completed
[32m##########7 Check autoreplied messaege successfully!![0m
TESTPASSED: /home/ram/workspace/bohem/Automation/multiple-messages-simultaneously-for-in-and-out-domains-senders/Deliever-message-between-AutoReplyStart-and-StopDate-when-both-sets/mx-10291-10307: AutoReply in reply mode with message delievered between start/stop date for hybird sender test success! (102 sec.)
##########  doing some clear job ...
[32m##########  Accont deleted successfully[0m
PASSED: /home/ram/workspace/bohem/Automation/multiple-messages-simultaneously-for-in-and-out-domains-senders/Deliever-message-between-AutoReplyStart-and-StopDate-when-both-sets/mx-10291-10307 [20171116-100215] (109 sec.) 138
Test ended: Thu Nov 16 10:04:05 CST 2017

