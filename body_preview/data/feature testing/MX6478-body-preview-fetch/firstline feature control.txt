(1)set this key:
    /*/common/enableXFIRSTLINE: [false] 
(2) IMap "a CAPABILITY" and "a fetch 1:* firstline"  commands, do not work properly, which meets the requirement:
///////////////////////////////////
a CAPABILITY
* CAPABILITY IMAP4rev1 UIDPLUS NAMESPACE QUOTA IDLE SORT SORT=DISPLAY MOVE ID THREAD=ORDEREDSUBJECT THREAD=REFERENCES  //no X-FIRSTLINE
a OK CAPABILITY completed
a fetch 1:* firstline
a BAD Invalid attribute list in FETCH
///////////////////////////////////

(3)Send this Emial to from xx1@openwave.con to xx2@openwave.com :
Return-Path: <xx1@openwave.com>
Received: from [10.37.2.214] by mx-172-26-202-87.openwave.com
          (InterMail vM.9.05.00.00 201-2473-137-108) with SMTP
          id <20170123074104.BBW9348.mx-172-26-202-87.openwave.com@[10.37.2.214]>
          for <xx2@openwave.com>; Sun, 22 Jan 2017 23:41:04 -0800
Date: Sun, 22 Jan 2017 23:41:10 -0800
Message-Id: <20170123074104.BBW9348.mx-172-26-202-87.openwave.com@[10.37.2.214]>
From: <xx1@openwave.com>

goodddddddddddddddddddddddddddddddddddddddddddd
(4)This message is teh 27 th message of xx2@openwave.com at the moment:

messageID: "4ec8f472-e13f-11e6-9607-e79cf538efbe"
=> (super_column=03b95d36-e136-11e6-9551-c3dc6c034ce8,
     (name=31, value=392e300330336239356433362d653133362d313165362d393535312d6333646336633033346365380330033134383531353332373803323637033003033303300330030374657374656d61696c03787831406f70656e776176652e636f6d033003787832406f70656e776176652e636f6d0303313130380330033c36302d323031372d303132322d3232333433382d37313135406d782d3137322d32362d3230322d38372e6f70656e776176652e636f6d3e033003030303, timestamp=1485153278844229)
     (name=3138, value=596f7520676f647320646976696e652021204d616b652043726573736964612773206e616d652074686520766572792063726f776e206f662066616c7365686f6f64202c206966206576657220736865206c656176652000, timestamp=1485153278844229)
     (name=32, value=46, timestamp=1485153279620305)
     (name=33, value=46, timestamp=1485153278844229)
     (name=35, value=31343835313533383232, timestamp=1485153822816784))
=> (super_column=6f3ccb80-e13e-11e6-8247-588a13d48143,
     (name=31, value=392e300336663363636238302d653133652d313165362d383234372d35383861313364343831343303300331343835313536383935033130380330030303300330030303033103030331313039033003033003030303, timestamp=1485156895220479)
     (name=3138, value=6869207878322e74686973206973207878312e686168616861686168616868616861204d6573736167652d49443a203c36312d323031372d303132322d3233333435352d37313135406d782d3137322d32362d3230322d3800, timestamp=1485156895220479)
     (name=32, value=54, timestamp=1485156895220479)
     (name=33, value=46, timestamp=1485156895220479)
     (name=35, value=30, timestamp=1485156895220479))

=> (super_column=4ec8f472-e13f-11e6-9607-e79cf538efbe,
     (name=31, value=392e300334656338663437322d653133662d313165362d393630372d65373963663533386566626503300331343835313537323730033530380330030333033003300303033c787831406f70656e776176652e636f6d3e0330030303313131300330033c32303137303132333037343130342e424257393334382e6d782d3137322d32362d3230322d38372e6f70656e776176652e636f6d405b31302e33372e322e3231345d3e033134383531353732373003030303, timestamp=1485157270267994)
     (name=32, value=54, timestamp=1485157270267994)
     (name=33, value=46, timestamp=1485157270267994)
     (name=35, value=31343835313537323732, timestamp=1485157272353514))
Returned 27 results.


(5)Summary:

 When key turns off, new message will not have body_preview,no 3188 column created in cf_folder. BUt the old message received when this key is on still there. 


###########################################################################################################################
(1)set this key:
    /*/common/enableXFIRSTLINE: [true] 
(2)IMap "a CAPABILITY" and "a fetch 1:* firstline"  commands, work properly, which meets the requirement.BUt the old message (received suring key off) still do not have a body_preview even after imap fetch copmmand.
///////////////////////////////////
a CAPABILITY
* CAPABILITY IMAP4rev1 UIDPLUS NAMESPACE QUOTA IDLE SORT SORT=DISPLAY MOVE ID THREAD=ORDEREDSUBJECT THREAD=REFERENCES X-FIRSTLINE
a OK CAPABILITY completed
a fetch 27 firstline
* 27 FETCH (FIRSTLINE ())
a OK FETCH completed
///////////////////////////////////

(3)Append another message to xx2@openwave.com.Now this new message has body_preview(firstline data) :
/////////////////////////////////////
message ID:"da9fb9a6-e142-11e6-9f93-61a121a4461d"

=> (super_column=4ec8f472-e13f-11e6-9607-e79cf538efbe,
     (name=31, value=392e300334656338663437322d653133662d313165362d393630372d65373963663533386566626503300331343835313537323730033530380330030333033003300303033c787831406f70656e776176652e636f6d3e0330030303313131300330033c32303137303132333037343130342e424257393334382e6d782d3137322d32362d3230322d38372e6f70656e776176652e636f6d405b31302e33372e322e3231345d3e033134383531353732373003030303, timestamp=1485157270267994)
     (name=32, value=46, timestamp=1485157550217489)
     (name=33, value=54, timestamp=1485157555464579)
     (name=35, value=31343835313537353535, timestamp=1485157555460848)
     (name=36, value=46, timestamp=1485157555464579)
     (name=37, value=46, timestamp=1485157555464579)
     (name=38, value=46, timestamp=1485157555464579)
     (name=39, value=46, timestamp=1485157555464579))
=> (super_column=da9fb9a6-e142-11e6-9f93-61a121a4461d,
     (name=31, value=392e300364613966623961362d653134322d313165362d396639332d363161313231613434363164033003313438353135383739330337390330030303300330030303033103030331313131033003033003030303, timestamp=1485158793384266)
     (name=3138, value=7878787878204d6573736167652d49443a203c36322d323031372d303132332d3030303633332d37313135406d782d3137322d32362d3230322d38372e6f70656e776176652e636f6d3e2000, timestamp=1485158793384266)
     (name=32, value=54, timestamp=1485158793384266)
     (name=33, value=46, timestamp=1485158793384266)
     (name=35, value=30, timestamp=1485158793384266))
////////////////////////////////////////////////////////////

(4) Summary:
After enable key,X-FIRSTLINE will appear in IMAP "a CAPABILITY " response.firstline data will creat in cassandra once receive new messages.


